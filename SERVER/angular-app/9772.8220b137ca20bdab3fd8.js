"use strict";(self.webpackChunkangular_application=self.webpackChunkangular_application||[]).push([[9772],{5913:(A,Z,r)=>{r.d(Z,{I:()=>o,K:()=>m});var p=r(639);let o=(()=>{class l{constructor(){this._printStyle=[],this.useExistingCss=!1,this.printDelay=0,this._styleSheetFile=""}set printStyle(i){for(let e in i)i.hasOwnProperty(e)&&this._printStyle.push((e+JSON.stringify(i[e])).replace(/['"]+/g,""));this.returnStyleValues()}returnStyleValues(){return`<style> ${this._printStyle.join(" ").replace(/,/g,";")} </style>`}set styleSheetFile(i){let e=function(s){return`<link rel="stylesheet" type="text/css" href="${s}">`};if(-1!==i.indexOf(",")){const s=i.split(",");for(let u of s)this._styleSheetFile=this._styleSheetFile+e(u)}else this._styleSheetFile=e(i)}returnStyleSheetLinkTags(){return this._styleSheetFile}getElementTag(i){const e=[],s=document.getElementsByTagName(i);for(let u=0;u<s.length;u++)e.push(s[u].outerHTML);return e.join("\r\n")}getFormData(i){for(var e=0;e<i.length;e++)i[e].defaultValue=i[e].value,i[e].checked&&(i[e].defaultChecked=!0)}getHtmlContents(){let i=document.getElementById(this.printSectionId),e=i.getElementsByTagName("input");this.getFormData(e);let s=i.getElementsByTagName("textarea");return this.getFormData(s),i.innerHTML}print(){let i,e,s="",u="";const f=this.getElementTag("base");this.useExistingCss&&(s=this.getElementTag("style"),u=this.getElementTag("link")),i=this.getHtmlContents(),e=window.open("","_blank","top=0,left=0,height=auto,width=auto"),e.document.open(),e.document.write(`\n      <html>\n        <head>\n          <title>${this.printTitle?this.printTitle:""}</title>\n          ${f}\n          ${this.returnStyleValues()}\n          ${this.returnStyleSheetLinkTags()}\n          ${s}\n          ${u}\n        </head>\n        <body>\n          ${i}\n          <script defer>\n            function triggerPrint(event) {\n              window.removeEventListener('load', triggerPrint, false);\n              setTimeout(function() {\n                closeWindow(window.print());\n              }, ${this.printDelay});\n            }\n            function closeWindow(){\n                window.close();\n            }\n            window.addEventListener('load', triggerPrint, false);\n          <\/script>\n        </body>\n      </html>`),e.document.close()}}return l.\u0275fac=function(i){return new(i||l)},l.\u0275dir=p.lG2({type:l,selectors:[["button","ngxPrint",""]],hostBindings:function(i,e){1&i&&p.NdJ("click",function(){return e.print()})},inputs:{useExistingCss:"useExistingCss",printDelay:"printDelay",printStyle:"printStyle",styleSheetFile:"styleSheetFile",printSectionId:"printSectionId",printTitle:"printTitle"}}),l})(),m=(()=>{class l{}return l.\u0275fac=function(i){return new(i||l)},l.\u0275mod=p.oAB({type:l}),l.\u0275inj=p.cJS({imports:[[]]}),l})()},9772:(A,Z,r)=>{r.r(Z),r.d(Z,{ProjectWiseLedgerModule:()=>O});var p=r(8583),o=r(4466),m=r(665),l=r(5913),g=r(6901),i=r(4762),e=r(639),s=r(4495),u=r(5620),f=r(1841),T=r(1879);function y(t,d){if(1&t&&(e.TgZ(0,"option",13),e._uU(1),e.qZA()),2&t){const n=d.$implicit;e.Q6J("ngValue",n),e.xp6(1),e.hij(" ",n.schem_name," ")}}function P(t,d){if(1&t&&(e.TgZ(0,"option",13),e._uU(1),e.qZA()),2&t){const n=d.$implicit;e.Q6J("ngValue",n),e.xp6(1),e.hij(" ",n.reference_no," ")}}function C(t,d){1&t&&e._UZ(0,"div",14)}function E(t,d){if(1&t&&(e.TgZ(0,"div",17),e._UZ(1,"br"),e._uU(2),e.qZA()),2&t){const n=e.oxw(2);e.xp6(2),e.hij(" No record found on financial year ",n.fin_year,". ")}}function x(t,d){if(1&t&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.ALo(14,"number"),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.ALo(17,"number"),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.ALo(20,"number"),e.qZA(),e.TgZ(21,"td"),e._uU(22),e.qZA(),e.qZA()),2&t){const n=d.$implicit,h=d.index;e.xp6(2),e.Oqu(h+1),e.xp6(2),e.Oqu(e.xi3(5,9,n.date,"dd-MM-yyyy")),e.xp6(3),e.Oqu(n.reference_no),e.xp6(2),e.Oqu(n.from_name),e.xp6(2),e.Oqu(n.to_name),e.xp6(2),e.Oqu(e.lcZ(14,12,n.credit)),e.xp6(3),e.Oqu(e.lcZ(17,14,n.debit)),e.xp6(3),e.Oqu(e.lcZ(20,16,n.balance)),e.xp6(3),e.Oqu(n.purpose)}}function M(t,d){if(1&t&&(e.TgZ(0,"div"),e.TgZ(1,"div",18),e.TgZ(2,"table",19),e._UZ(3,"caption"),e.TgZ(4,"thead"),e.TgZ(5,"tr"),e.TgZ(6,"th",20),e._uU(7,"SL."),e.qZA(),e.TgZ(8,"th",20),e._uU(9,"Date"),e.qZA(),e.TgZ(10,"th",20),e._uU(11,"Reference No."),e.qZA(),e.TgZ(12,"th",20),e._uU(13,"From"),e.qZA(),e.TgZ(14,"th",20),e._uU(15,"To"),e.qZA(),e.TgZ(16,"th",20),e._uU(17,"Credit (\u20b9)"),e.qZA(),e.TgZ(18,"th",20),e._uU(19,"Debit (\u20b9)"),e.qZA(),e.TgZ(20,"th",20),e._uU(21,"Balance(\u20b9)"),e.qZA(),e.TgZ(22,"th",20),e._uU(23,"Purpose"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"tbody"),e.YNc(25,x,23,18,"tr",21),e.TgZ(26,"tr"),e._UZ(27,"td"),e._UZ(28,"td"),e._UZ(29,"td"),e._UZ(30,"td"),e.TgZ(31,"td"),e.TgZ(32,"h5"),e._uU(33,"Total (\u20b9)"),e.qZA(),e.qZA(),e.TgZ(34,"td",22),e._uU(35),e.ALo(36,"number"),e.qZA(),e.TgZ(37,"td",22),e._uU(38),e.ALo(39,"number"),e.qZA(),e._UZ(40,"td"),e._UZ(41,"td"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){const n=e.oxw(2);e.xp6(25),e.Q6J("ngForOf",n.allData),e.xp6(10),e.hij("",e.lcZ(36,3,n.totalCredit)," "),e.xp6(3),e.hij("",e.lcZ(39,5,n.totalDebit)," ")}}function D(t,d){if(1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"span"),e.TgZ(3,"strong"),e.TgZ(4,"label"),e._uU(5,"CASHBOOK"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div"),e.YNc(7,E,3,1,"div",15),e.YNc(8,M,42,7,"div",16),e.qZA(),e.qZA()),2&t){const n=e.oxw();e.xp6(7),e.Q6J("ngIf",0==n.allData.length),e.xp6(1),e.Q6J("ngIf",0!=n.allData.length)}}const U=[{path:"",component:(()=>{class t{constructor(n,h,v){this.layoutService=n,this.service=h,this.http=v,this.showCashBook=!1,this.schem_list=[],this.project_no_list=[],this.loader=!1,this.loadAllScheme=()=>(0,i.mG)(this,void 0,void 0,function*(){let _=yield this.service.get("/accountant/getAllSchema");this.schem_list=_}),this.loadProjectNos=()=>(0,i.mG)(this,void 0,void 0,function*(){if(null!=(this.schem&&this.fin_year))switch(this.schem.schem_id){case"1":{let _=yield this.service.get("/accountant/getAllPermitNos?dist_id="+this.dist_id);this.project_no_list=_;break}case"2":{let _=yield this.service.get("/accountant/getAllClusterIdsForExpenditure?dist_id="+this.dist_id);this.project_no_list=_;break}}}),this.loadCashBook=()=>(0,i.mG)(this,void 0,void 0,function*(){switch(this.schem.schem_id){case"1":{let _=yield this.service.get("/accountant/getCashBookData?permit_no="+this.project_no.reference_no);this.showCashBook=!0,this.allData=_;let c=_;this.totalCredit=0,this.totalDebit=0,c.filter(a=>a.date=new Date(a.date)),c.sort((a,j)=>a.date-j.date);for(let a=0;a<c.length;a++)c[a].date=new Date(c[a].date),c[a].to=="DS-"+this.dist_id?(c[a].credit=c[a].ammount,c[a].debit=0,this.totalCredit+=parseInt(c[a].credit)):c[a].from=="DS-"+this.dist_id&&(c[a].debit=c[a].ammount,c[a].credit=0,this.totalDebit+=parseInt(c[a].debit)),c[a].balance=0==a?parseInt(c[a].credit)-parseInt(c[a].debit):parseInt(c[a-1].balance)+parseInt(c[a].credit)-parseInt(c[a].debit);break}case"2":this.allData=[]}}),this.layoutService.setBreadcrumb("Ledger / Project wise ledger"),this.dist_id=n.getDistrictID()}ngOnInit(){}changeFinancialYear(n){this.fin_year=n,this.loadAllScheme(),this.header=!0}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(s.P),e.Y36(u.v),e.Y36(f.eN))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-project-wise"]],decls:27,vars:6,consts:[[1,"mybox"],[1,"mybox-header"],[1,"container","row"],[1,"col-lg-3"],[3,"newItemEvent"],[1,"col-lg-4"],[1,"form-control",3,"ngModel","ngModelChange","change"],["value","","disabled",""],[3,"ngValue",4,"ngFor","ngForOf"],["value",""],[1,"loader"],["class","spinner-border text-info",4,"ngIf"],["class","mybox",4,"ngIf"],[3,"ngValue"],[1,"spinner-border","text-info"],["class","no-record",4,"ngIf"],[4,"ngIf"],[1,"no-record"],[1,"table-responsive"],["id","orderListTable",1,"table","table-striped","table-bordered","table-hover",2,"text-align","center"],["scope","col"],[4,"ngFor","ngForOf"],[2,"width","10%"]],template:function(n,h){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"span"),e.TgZ(3,"strong"),e.TgZ(4,"label"),e._uU(5,"PROJECT WISE LEDGER"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(6,"br"),e.TgZ(7,"div",2),e.TgZ(8,"div",3),e.TgZ(9,"app-financial-year",4),e.NdJ("newItemEvent",function(_){return h.changeFinancialYear(_)}),e.qZA(),e.qZA(),e.TgZ(10,"div",5),e.TgZ(11,"label"),e._uU(12,"Scheme :"),e.qZA(),e.TgZ(13,"select",6),e.NdJ("ngModelChange",function(_){return h.schem=_})("change",function(){return h.loadProjectNos()}),e.TgZ(14,"option",7),e._uU(15,"--select--"),e.qZA(),e.YNc(16,y,2,2,"option",8),e.qZA(),e.qZA(),e.TgZ(17,"div",5),e.TgZ(18,"label"),e._uU(19,"Project No :"),e.qZA(),e.TgZ(20,"select",6),e.NdJ("ngModelChange",function(_){return h.project_no=_})("change",function(){return h.loadCashBook()}),e.TgZ(21,"option",9),e._uU(22,"--Select--"),e.qZA(),e.YNc(23,P,2,2,"option",8),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",10),e.YNc(25,C,1,0,"div",11),e.qZA(),e.YNc(26,D,9,2,"div",12)),2&n&&(e.xp6(13),e.Q6J("ngModel",h.schem),e.xp6(3),e.Q6J("ngForOf",h.schem_list),e.xp6(4),e.Q6J("ngModel",h.project_no),e.xp6(3),e.Q6J("ngForOf",h.project_no_list),e.xp6(2),e.Q6J("ngIf",h.loader),e.xp6(1),e.Q6J("ngIf",h.showCashBook))},directives:[T.L,m.EJ,m.JJ,m.On,m.YN,m.Kr,p.sg,p.O5],pipes:[p.JJ,p.uU],styles:[""]}),t})()}];let q=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[g.Bz.forChild(U)],g.Bz]}),t})(),O=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[p.ez,o.m,m.u5,l.K,q]]}),t})()},1879:(A,Z,r)=>{r.d(Z,{L:()=>e});var p=r(4762),o=r(639),m=r(5620),l=r(665),g=r(8583);function i(s,u){if(1&s&&(o.TgZ(0,"option",3),o._uU(1),o.qZA()),2&s){const f=u.$implicit;o.Q6J("ngValue",f),o.xp6(1),o.Oqu(f)}}let e=(()=>{class s{constructor(f){this.service=f,this.financialYear="",this.financialYearList=[],this.newItemEvent=new o.vpe,this.loadFinancialYear=()=>(0,p.mG)(this,void 0,void 0,function*(){this.financialYearList=yield this.service.get("/api/getFinYear"),this.financialYear=this.financialYearList[0],this.changeFinancialYear()}),this.loadFinancialYear()}ngOnInit(){}changeFinancialYear(){this.newItemEvent.emit(this.financialYear)}}return s.\u0275fac=function(f){return new(f||s)(o.Y36(m.v))},s.\u0275cmp=o.Xpm({type:s,selectors:[["app-financial-year"]],outputs:{newItemEvent:"newItemEvent"},decls:6,vars:2,consts:[[1,"form-control",3,"ngModel","ngModelChange","change"],["value","","disabled",""],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(f,T){1&f&&(o.TgZ(0,"label"),o._uU(1,"Financial year :"),o.qZA(),o.TgZ(2,"select",0),o.NdJ("ngModelChange",function(P){return T.financialYear=P})("change",function(){return T.changeFinancialYear()}),o.TgZ(3,"option",1),o._uU(4,"--Select--"),o.qZA(),o.YNc(5,i,2,2,"option",2),o.qZA()),2&f&&(o.xp6(2),o.Q6J("ngModel",T.financialYear),o.xp6(3),o.Q6J("ngForOf",T.financialYearList))},directives:[l.EJ,l.JJ,l.On,l.YN,l.Kr,g.sg],styles:[""]}),s})()},4466:(A,Z,r)=>{r.d(Z,{m:()=>l});var p=r(8583),o=r(665),m=r(639);let l=(()=>{class g{}return g.\u0275fac=function(e){return new(e||g)},g.\u0275mod=m.oAB({type:g}),g.\u0275inj=m.cJS({imports:[[p.ez,o.u5]]}),g})()}}]);