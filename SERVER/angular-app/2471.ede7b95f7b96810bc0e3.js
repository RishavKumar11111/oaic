"use strict";(self.webpackChunkangular_application=self.webpackChunkangular_application||[]).push([[2471],{2471:(j,A,l)=>{l.r(A),l.d(A,{AddItemModule:()=>Q});var i=l(665),D=l(8583),P=l(4762),e=l(639),F=l(4495),b=l(5620),x=l(9344),V=l(4881),G=l(9195),y=l(1925),k=l(948);function C(t,o){1&t&&e._UZ(0,"div",16)}function M(t,o){if(1&t){const a=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",17),e.TgZ(2,"div",18),e.TgZ(3,"span"),e.TgZ(4,"strong"),e.TgZ(5,"label"),e._uU(6,"Enter Item Details"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",11),e._UZ(8,"app-enter-item-details-form",12),e._UZ(9,"app-calculate-item-price",12),e.qZA(),e.qZA(),e.TgZ(10,"div",17),e.TgZ(11,"div",18),e.TgZ(12,"span"),e.TgZ(13,"strong"),e.TgZ(14,"label"),e._uU(15,"Enter Packages Details"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",11),e._UZ(17,"app-enter-packages",12),e.TgZ(18,"div",19),e.TgZ(19,"button",20),e.NdJ("click",function(){return e.CHM(a),e.oxw().proceed()}),e._uU(20,"Proceed "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const a=e.oxw();e.xp6(8),e.Q6J("ItemDetailsForm",a.ItemDetailsForm),e.xp6(1),e.Q6J("ItemDetailsForm",a.ItemDetailsForm),e.xp6(8),e.Q6J("ItemDetailsForm",a.ItemDetailsForm)}}let U=(()=>{class t{constructor(a,d,r,R){this.layoutService=a,this.service=d,this.toastr=r,this.fb=R,this.loadingData=!1,this.first_box=!0,this.addItem=()=>(0,P.mG)(this,void 0,void 0,function*(){try{this.ItemDetailsForm.valid?(yield this.service.post("/admin/addItem",this.ItemDetailsForm.value),this.toastr.success("New ITEM added successfully"),this.ItemDetailsForm.patchValue({Implement:"",Make:"",Model:"",DivisionID:"",HSN:"",UnitOfMeasurement:"",Taxability:"Taxable",TaxRate:"12",PurchaseInvoiceValue:"",PurchaseTaxableValue:"",PurchaseCGST:"",PurchaseSGST:"",PurchaseIGST:"",PurchaseSGSTOnePercent:"",PurchaseCGSTOnePercent:"",SellInvoiceValue:"",SellTaxableValue:"",SellCGST:"",SellSGST:"",SellIGST:"",packagesList:[]})):this.toastr.error("Please fill all required fields first")}catch(s){this.toastr.error("Sorry. Server problem. Plaese try again."),console.error(s)}}),this.proceed=()=>{var s,n,m,u,c,v,I,g,T,h,p,Z,S,f;(null===(s=this.ItemDetailsForm.get("PurchaseInvoiceValue"))||void 0===s?void 0:s.value)||(null===(n=this.ItemDetailsForm.get("PurchaseInvoiceValue"))||void 0===n||n.setValue(0),null===(m=this.ItemDetailsForm.get("PurchaseTaxableValue"))||void 0===m||m.setValue(0),null===(u=this.ItemDetailsForm.get("PurchaseCGST"))||void 0===u||u.setValue(0),null===(c=this.ItemDetailsForm.get("PurchaseSGST"))||void 0===c||c.setValue(0),null===(v=this.ItemDetailsForm.get("PurchaseIGST"))||void 0===v||v.setValue(0),null===(I=this.ItemDetailsForm.get("PurchaseSGSTOnePercent"))||void 0===I||I.setValue(0),null===(g=this.ItemDetailsForm.get("PurchaseCGSTOnePercent"))||void 0===g||g.setValue(0)),(null===(T=this.ItemDetailsForm.get("SellInvoiceValue"))||void 0===T?void 0:T.value)||(null===(h=this.ItemDetailsForm.get("SellInvoiceValue"))||void 0===h||h.setValue(0),null===(p=this.ItemDetailsForm.get("SellTaxableValue"))||void 0===p||p.setValue(0),null===(Z=this.ItemDetailsForm.get("SellCGST"))||void 0===Z||Z.setValue(0),null===(S=this.ItemDetailsForm.get("SellSGST"))||void 0===S||S.setValue(0),null===(f=this.ItemDetailsForm.get("SellIGST"))||void 0===f||f.setValue(0))},this.layoutService.setBreadcrumb("Item / Add New Item"),this.ItemDetailsForm=this.fb.group({Implement:["",[i.kI.required]],Make:["",[i.kI.required]],Model:["",[i.kI.required]],DivisionID:["",[i.kI.required]],HSN:["",[i.kI.required]],UnitOfMeasurement:["",[i.kI.required]],Taxability:["Taxable",[i.kI.required]],TaxRate:["12",[i.kI.required]],PurchaseInvoiceValue:["",[i.kI.required]],PurchaseTaxableValue:["0",[i.kI.required]],PurchaseCGST:["0",[i.kI.required]],PurchaseSGST:["0",[i.kI.required]],PurchaseIGST:["0",[i.kI.required]],PurchaseSGSTOnePercent:["0",[i.kI.required]],PurchaseCGSTOnePercent:["0",[i.kI.required]],SellInvoiceValue:["",[i.kI.required]],SellTaxableValue:["0",[i.kI.required]],SellCGST:["0",[i.kI.required]],SellSGST:["0",[i.kI.required]],SellIGST:["0",[i.kI.required]],packagesList:this.fb.array([])})}ngOnInit(){}}return t.\u0275fac=function(a){return new(a||t)(e.Y36(F.P),e.Y36(b.v),e.Y36(x._W),e.Y36(i.qu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-add-item"]],decls:20,vars:3,consts:[[1,"loader"],["class","spinner-border text-info",4,"ngIf"],[4,"ngIf"],[1,"container"],["id","reviewUpdateItemsModal",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content","modal-lg",2,"width","130%"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body",2,"padding","0"],[1,"middle"],[3,"ItemDetailsForm"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-outline-info"],["type","button","data-dismiss","modal",1,"btn","btn-outline-info",3,"click"],[1,"spinner-border","text-info"],[1,"mybox"],[1,"mybox-header"],[1,"rightSubmit"],["data-toggle","modal","data-target","#reviewUpdateItemsModal",1,"btn","btn-info","btn-sm",3,"click"]],template:function(a,d){1&a&&(e.TgZ(0,"div",0),e.YNc(1,C,1,0,"div",1),e.qZA(),e.YNc(2,M,21,3,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"div",6),e.TgZ(7,"div",7),e.TgZ(8,"h5",8),e._uU(9,"VERIFY ITEM DETAIL"),e.qZA(),e.TgZ(10,"button",9),e._uU(11,"\xd7"),e.qZA(),e.qZA(),e.TgZ(12,"div",10),e.TgZ(13,"div",11),e._UZ(14,"app-preview-item-details",12),e.qZA(),e.qZA(),e.TgZ(15,"div",13),e.TgZ(16,"button",14),e._uU(17,"Edit"),e.qZA(),e.TgZ(18,"button",15),e.NdJ("click",function(){return d.addItem()}),e._uU(19,"ADD"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&a&&(e.xp6(1),e.Q6J("ngIf",d.loadingData),e.xp6(1),e.Q6J("ngIf",d.first_box),e.xp6(12),e.Q6J("ItemDetailsForm",d.ItemDetailsForm))},directives:[D.O5,V.f,G.l,y.B,k.w],styles:[""]}),t})();var q=l(6901);const J=[{path:"",component:U}];let O=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[q.Bz.forChild(J)],q.Bz]}),t})();var N=l(6796),E=l(5575),B=l(2987),Y=l(1138);let Q=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[D.ez,O,i.u5,i.UX,N.T,E.B,B.v,Y.N]]}),t})()}}]);