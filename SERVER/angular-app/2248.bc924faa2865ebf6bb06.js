"use strict";(self.webpackChunkangular_application=self.webpackChunkangular_application||[]).push([[2248],{2248:(J,Z,r)=>{r.r(Z),r.d(Z,{RePrintMrrModule:()=>I});var u=r(5913),l=r(665),c=r(8583),g=r(4762),t=r(639),_=r(4495),h=r(5620),m=r(1879),v=r(5502),f=r(1410);function T(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",4),t.TgZ(1,"div",5),t.TgZ(2,"span"),t.TgZ(3,"strong"),t.TgZ(4,"label"),t._uU(5,"Re-Print MRR"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",6),t.TgZ(7,"div",7),t.TgZ(8,"div",8),t.TgZ(9,"app-financial-year",9),t.NdJ("newItemEvent",function(i){return t.CHM(e),t.oxw().changeFinancialYear(i)}),t.qZA(),t.qZA(),t.TgZ(10,"div",10),t.TgZ(11,"label"),t._uU(12,"From date:"),t.qZA(),t.TgZ(13,"input",11),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().fromDate=i}),t.qZA(),t.qZA(),t.TgZ(14,"div",10),t.TgZ(15,"label"),t._uU(16,"To date:"),t.qZA(),t.TgZ(17,"input",11),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().toDate=i}),t.qZA(),t.qZA(),t.TgZ(18,"div",12),t.TgZ(19,"button",13),t._UZ(20,"i",14),t._uU(21," Search"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(13),t.Q6J("ngModel",e.fromDate),t.xp6(4),t.Q6J("ngModel",e.toDate)}}function A(n,o){1&n&&t._UZ(0,"div",15)}function M(n,o){1&n&&(t.TgZ(0,"div",25),t._uU(1," No record found "),t.qZA())}function R(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t.TgZ(15,"a",30),t.TgZ(16,"button",31),t._UZ(17,"i",32),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"td"),t.TgZ(19,"button",33),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(3).showMRR(s)}),t._UZ(20,"i",34),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=o.$implicit,a=o.index;t.xp6(2),t.Oqu(a+1),t.xp6(2),t.Oqu(e.MRRNo),t.xp6(2),t.Oqu(t.xi3(7,7,e.InsertedDate,"dd-MM-yyyy")),t.xp6(3),t.Oqu(e.NoOfItemReceived),t.xp6(2),t.Oqu(e.InvoiceNo),t.xp6(2),t.Oqu(e.PONo),t.xp6(2),t.s9C("href",e.InvoicePath,t.LSH)}}function x(n,o){if(1&n&&(t.TgZ(0,"div"),t.TgZ(1,"div",26),t.TgZ(2,"table",27),t._UZ(3,"caption"),t.TgZ(4,"thead"),t.TgZ(5,"tr"),t.TgZ(6,"th",28),t._uU(7,"SL."),t.qZA(),t.TgZ(8,"th",28),t._uU(9,"MRR ID"),t.qZA(),t.TgZ(10,"th",28),t._uU(11,"Date"),t.qZA(),t.TgZ(12,"th",28),t._uU(13,"Item received"),t.qZA(),t.TgZ(14,"th",28),t._uU(15,"Invoice no."),t.qZA(),t.TgZ(16,"th",28),t._uU(17,"P.O. no."),t.qZA(),t.TgZ(18,"th",28),t._uU(19,"View Invoice"),t.qZA(),t.TgZ(20,"th",28),t._uU(21,"View MRR"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"tbody"),t.YNc(23,R,21,10,"tr",29),t.ALo(24,"search"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.xp6(23),t.Q6J("ngForOf",t.xi3(24,1,e.mrr_list,e.search_mrr_id))}}function q(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",4),t.TgZ(1,"div",16),t.TgZ(2,"div",7),t._UZ(3,"div",17),t.TgZ(4,"div",18),t.TgZ(5,"strong"),t.TgZ(6,"label"),t._uU(7,"MRR List"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",17),t.TgZ(9,"div",19),t.TgZ(10,"div",20),t.TgZ(11,"span",21),t._UZ(12,"i",22),t.qZA(),t.qZA(),t.TgZ(13,"input",23),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().search_mrr_id=i}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div"),t.YNc(15,M,2,0,"div",24),t.YNc(16,x,25,4,"div",3),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(13),t.Q6J("ngModel",e.search_mrr_id),t.xp6(2),t.Q6J("ngIf",0==e.mrr_list.length),t.xp6(1),t.Q6J("ngIf",0!=e.mrr_list.length)}}function b(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"button",35),t.NdJ("click",function(){return t.CHM(e),t.oxw().back()}),t._UZ(2,"i",36),t._uU(3," Back"),t.qZA(),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"span"),t.TgZ(7,"strong"),t.TgZ(8,"label"),t._uU(9,"MATERIAL RECEIPT REPORT"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"div"),t._UZ(11,"app-mrr",37),t.TgZ(12,"div",38),t.TgZ(13,"button",39),t.NdJ("click",function(){return t.CHM(e),t.oxw().back()}),t._UZ(14,"i",36),t._uU(15," Back"),t.qZA(),t.TgZ(16,"button",40),t._uU(17,"Print "),t._UZ(18,"i",41),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(11),t.Q6J("AccountantDetails",e.AccountantDetails)("DMDetails",e.DMDetails)("printData",e.printData)("vendorDetails",e.vendorDetails)("invoice",e.invoice)("mrr",e.mrr),t.xp6(5),t.Q6J("useExistingCss",!0)}}let C=(()=>{class n{constructor(e,a){this.layoutService=e,this.service=a,this.printData=[],this.mrr={},this.printPage=!1,this.showTable=!1,this.loader=!1,this.first_card=!0,this.fin_year="",this.AccountantDetails={},this.DMDetails={},this.mrr_list=[],this.fromDate="",this.toDate="",this.search_mrr_id="",this.loadAlldetailsFirst=()=>(0,g.mG)(this,void 0,void 0,function*(){this.AccountantDetails=yield this.service.get("/accountant/getAccName"),this.DMDetails=yield this.service.get("/accountant/getDMDetails")}),this.loadMRRList=()=>(0,g.mG)(this,void 0,void 0,function*(){this.loader=!0;const i=yield this.service.get("/accountant/getAllDistMRRIds?fin_year="+this.fin_year);this.mrr_list=i,this.loader=!1,this.showTable=!0}),this.showMRR=i=>(0,g.mG)(this,void 0,void 0,function*(){this.mrr.MRRNo=i.MRRNo,this.showTable=!1,this.loader=!0;let d=yield this.service.get("/accountant/getMRRDetails?mrr_id="+i.MRRNo+"&dl_id="+i.VendorID);this.vendorDetails=d.dl,this.invoice=d.invoice,this.printData=d.data,this.totalPriceInTable=0,this.loader=!1,this.printPage=!0,this.first_card=!1}),this.back=()=>{this.printPage=!1,this.showTable=!0,this.first_card=!0},this.layoutService.setBreadcrumb("Material Receipt Report / Re-Print MRR"),this.loadAlldetailsFirst()}ngOnInit(){}changeFinancialYear(e){this.fin_year=e,this.loadMRRList()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.P),t.Y36(h.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-re-print-mrr"]],decls:5,vars:4,consts:[["class","mybox",4,"ngIf"],[1,"loader"],["class","spinner-border text-info",4,"ngIf"],[4,"ngIf"],[1,"mybox"],[1,"mybox-header"],[1,"middle"],[1,"row"],[1,"col-lg-4","col-sm-12","col-xs-12"],[3,"newItemEvent"],[1,"col-lg-3"],["type","date",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-lg-2"],[1,"btn","btn-info",2,"margin-top","13%"],[1,"fa","fa-search"],[1,"spinner-border","text-info"],[1,"mybox-inner-header"],[1,"col-3"],[1,"col-6"],[1,"input-group","mb-3","input-group-sm"],[1,"input-group-prepend"],[1,"input-group-text"],["aria-hidden","true",1,"fas","fa-search"],["type","text","placeholder","Enter MRR ID",1,"form-control",3,"ngModel","ngModelChange"],["class","no-record",4,"ngIf"],[1,"no-record"],[1,"table-responsive"],["id","allListTable",1,"table","table-striped","table-bordered","table-hover",2,"text-align","center"],["scope","col"],[4,"ngFor","ngForOf"],["target","_blank",3,"href"],[1,"btn","btn-outline-info","round"],["aria-hidden","true",1,"fas","fa-file-pdf"],["data-toggle","modal","data-target","#viewDetails",1,"btn","btn-outline-info","round",3,"click"],["aria-hidden","true",1,"fas","fa-bars"],[1,"btn","btn-info","btn-sm","topBack",3,"click"],["aria-hidden","true",1,"fas","fa-arrow-left"],["id","printPageID",3,"AccountantDetails","DMDetails","printData","vendorDetails","invoice","mrr"],[1,"bottomBack"],[1,"btn","btn-info","btn-sm",3,"click"],["printTitle","Material Receipt Report(MRR)","printSectionId","printPageID","ngxPrint","",1,"btn","btn-info","btn-sm",3,"useExistingCss"],["aria-hidden","true",1,"fas","fa-print"]],template:function(e,a){1&e&&(t.YNc(0,T,22,2,"div",0),t.TgZ(1,"div",1),t.YNc(2,A,1,0,"div",2),t.qZA(),t.YNc(3,q,17,3,"div",0),t.YNc(4,b,19,7,"div",3)),2&e&&(t.Q6J("ngIf",a.first_card),t.xp6(2),t.Q6J("ngIf",a.loader),t.xp6(1),t.Q6J("ngIf",a.showTable),t.xp6(1),t.Q6J("ngIf",a.printPage))},directives:[c.O5,m.L,l.Fj,l.JJ,l.On,c.sg,v.U,u.I],pipes:[f.G,c.uU],styles:[""]}),n})();var p=r(6901);const D=[{path:"",component:C}];let P=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[p.Bz.forChild(D)],p.Bz]}),n})();var U=r(4466),y=r(146);let I=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[c.ez,P,l.u5,U.m,y.s,u.K]]}),n})()}}]);