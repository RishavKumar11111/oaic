"use strict";(self.webpackChunkangular_application=self.webpackChunkangular_application||[]).push([[1077],{1879:(A,_,i)=>{i.d(_,{L:()=>h});var d=i(4762),o=i(639),s=i(5620),c=i(665),r=i(8583);function n(g,v){if(1&g&&(o.TgZ(0,"option",3),o._uU(1),o.qZA()),2&g){const m=v.$implicit;o.Q6J("ngValue",m),o.xp6(1),o.Oqu(m)}}let h=(()=>{class g{constructor(m){this.service=m,this.financialYear="",this.financialYearList=[],this.newItemEvent=new o.vpe,this.loadFinancialYear=()=>(0,d.mG)(this,void 0,void 0,function*(){this.financialYearList=yield this.service.get("/api/getFinYear"),this.financialYear=this.financialYearList[0],this.changeFinancialYear()}),this.loadFinancialYear()}ngOnInit(){}changeFinancialYear(){this.newItemEvent.emit(this.financialYear)}}return g.\u0275fac=function(m){return new(m||g)(o.Y36(s.v))},g.\u0275cmp=o.Xpm({type:g,selectors:[["app-financial-year"]],outputs:{newItemEvent:"newItemEvent"},decls:6,vars:2,consts:[[1,"form-control",3,"ngModel","ngModelChange","change"],["value","","disabled",""],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(m,p){1&m&&(o.TgZ(0,"label"),o._uU(1,"Financial year :"),o.qZA(),o.TgZ(2,"select",0),o.NdJ("ngModelChange",function(f){return p.financialYear=f})("change",function(){return p.changeFinancialYear()}),o.TgZ(3,"option",1),o._uU(4,"--Select--"),o.qZA(),o.YNc(5,n,2,2,"option",2),o.qZA()),2&m&&(o.xp6(2),o.Q6J("ngModel",p.financialYear),o.xp6(3),o.Q6J("ngForOf",p.financialYearList))},directives:[c.EJ,c.JJ,c.On,c.YN,c.Kr,r.sg],styles:[""]}),g})()},1410:(A,_,i)=>{i.d(_,{G:()=>o});var d=i(639);let o=(()=>{class s{transform(r,n){return r?n?(n=n.toLowerCase(),r.filter(function(h){return JSON.stringify(h).toLowerCase().includes(n)})):r:null}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275pipe=d.Yjl({name:"search",type:s,pure:!0}),s})()},4466:(A,_,i)=>{i.d(_,{m:()=>c});var d=i(8583),o=i(665),s=i(639);let c=(()=>{class r{}return r.\u0275fac=function(h){return new(h||r)},r.\u0275mod=s.oAB({type:r}),r.\u0275inj=s.cJS({imports:[[d.ez,o.u5]]}),r})()},1077:(A,_,i)=>{i.r(_),i.d(_,{WithheldAmountModule:()=>O});var d=i(665),o=i(4466),s=i(8583),c=i(6901),r=i(4762),n=i(639),h=i(4495),g=i(5620),v=i(9344),m=i(1879),p=i(1410);function T(e,u){1&e&&n._UZ(0,"div",23)}function f(e,u){1&e&&(n.TgZ(0,"div",35),n._uU(1," No record found "),n.qZA())}function q(e,u){if(1&e){const t=n.EpF();n.TgZ(0,"tr"),n.TgZ(1,"td"),n._uU(2),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.TgZ(5,"td"),n._uU(6),n.qZA(),n.TgZ(7,"td"),n._uU(8),n.qZA(),n.TgZ(9,"td"),n._uU(10),n.ALo(11,"number"),n.qZA(),n.TgZ(12,"td"),n._uU(13),n.ALo(14,"number"),n.qZA(),n.TgZ(15,"td"),n._uU(16),n.ALo(17,"number"),n.qZA(),n.TgZ(18,"td"),n._uU(19),n.ALo(20,"number"),n.qZA(),n.TgZ(21,"td"),n._uU(22),n.ALo(23,"number"),n.qZA(),n.TgZ(24,"td"),n.TgZ(25,"button",40),n.NdJ("click",function(){const a=n.CHM(t).$implicit;return n.oxw(3).loadDetail(a)}),n._uU(26,"Resolve"),n.qZA(),n.qZA(),n.qZA()}if(2&e){const t=u.$implicit,l=u.index;n.xp6(2),n.Oqu(l+1),n.xp6(2),n.Oqu(t.indent_no),n.xp6(2),n.Oqu(t.invoice_no),n.xp6(2),n.Oqu(t.approval_id),n.xp6(2),n.Oqu(n.xi3(11,9,t.indent_ammount,"2")),n.xp6(3),n.Oqu(n.xi3(14,12,t.invoice_ammount,"2")),n.xp6(3),n.Oqu(n.xi3(17,15,t.ammount,"2")),n.xp6(3),n.Oqu(n.xi3(20,18,t.ammount-t.deduction_amount,"2")),n.xp6(3),n.Oqu(n.xi3(23,21,t.deduction_amount,"2"))}}function U(e,u){if(1&e&&(n.TgZ(0,"div"),n.TgZ(1,"div",36),n.TgZ(2,"table",37),n._UZ(3,"caption"),n.TgZ(4,"thead"),n.TgZ(5,"tr"),n.TgZ(6,"th",38),n._uU(7,"SL."),n.qZA(),n.TgZ(8,"th",38),n._uU(9,"P.O. No."),n.qZA(),n.TgZ(10,"th",38),n._uU(11,"Invoice no."),n.qZA(),n.TgZ(12,"th",38),n._uU(13,"Approval ID"),n.qZA(),n.TgZ(14,"th",38),n._uU(15,"P.O. amount"),n.qZA(),n.TgZ(16,"th",38),n._uU(17,"Invoice amount"),n.qZA(),n.TgZ(18,"th",38),n._uU(19,"Initiated amount(Approval)"),n.qZA(),n.TgZ(20,"th",38),n._uU(21,"Paid amount"),n.qZA(),n.TgZ(22,"th",38),n._uU(23,"Pending amount"),n.qZA(),n.TgZ(24,"th",38),n._uU(25,"Action"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(26,"tbody"),n.YNc(27,q,27,24,"tr",39),n.ALo(28,"search"),n.ALo(29,"search"),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e){const t=n.oxw(2);n.xp6(27),n.Q6J("ngForOf",n.xi3(28,1,n.xi3(29,4,t.invoice_list,t.searchInvoiceNo),t.searchApprovalID))}}function C(e,u){if(1&e){const t=n.EpF();n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",3),n.TgZ(3,"div",24),n.TgZ(4,"form"),n.TgZ(5,"div",25),n.TgZ(6,"div",26),n.TgZ(7,"span",27),n._UZ(8,"i",28),n.qZA(),n.qZA(),n.TgZ(9,"input",29),n.NdJ("ngModelChange",function(Z){return n.CHM(t),n.oxw().searchApprovalID=Z}),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(10,"div",30),n.TgZ(11,"strong"),n.TgZ(12,"label"),n._uU(13,"ALL LIST"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(14,"div",31),n.TgZ(15,"form"),n.TgZ(16,"div",25),n.TgZ(17,"div",26),n.TgZ(18,"span",27),n._UZ(19,"i",28),n.qZA(),n.qZA(),n.TgZ(20,"input",32),n.NdJ("ngModelChange",function(Z){return n.CHM(t),n.oxw().searchInvoiceNo=Z}),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(21,"div"),n.YNc(22,f,2,0,"div",33),n.YNc(23,U,30,7,"div",34),n.qZA(),n.qZA()}if(2&e){const t=n.oxw();n.xp6(9),n.Q6J("ngModel",t.searchApprovalID),n.xp6(11),n.Q6J("ngModel",t.searchInvoiceNo),n.xp6(2),n.Q6J("ngIf",0==t.invoice_list.length),n.xp6(1),n.Q6J("ngIf",0!=t.invoice_list.length)}}const M=[{path:"",component:(()=>{class e{constructor(t,l,Z){this.layoutService=t,this.service=l,this.toastr=Z,this.dl_id="document.querySelector('meta[name=\"dl_id\"]').getAttribute('content')",this.show_invoice_list=!1,this.printPage=!1,this.loader=!1,this.fin_year="",this.invoice_list=[],this.searchInvoiceNo="",this.searchApprovalID="",this.dl_remark="",this.loadInvoices=()=>(0,r.mG)(this,void 0,void 0,function*(){this.printPage=!1,this.show_invoice_list=!1,this.loader=!0,this.invoice_list=yield this.service.get(`/dl/getFinYearWisePendingApprovalList?fin_year=${this.fin_year}`),this.loader=!1,this.show_invoice_list=!0}),this.loadDetail=a=>{this.approval_id=a.approval_id,this.indent_no=a.indent_no,this.invoice_no=a.invoice_no,this.indent_amount=a.indent_ammount,this.invoice_amount=a.invoice_ammount,this.invoice_date=new Date(a.invoice_date),this.indent_date=new Date(a.indent_date),this.indent_no=a.indent_no,this.invoice_no=a.invoice_no,this.subTotal=a.ammount,this.paid_amount=a.ammount-a.deduction_amount,this.pending_amount=a.deduction_amount,this.remark=a.remark},this.resolveIssue=()=>(0,r.mG)(this,void 0,void 0,function*(){try{yield this.service.post("/dl/updateApprovalToPayble",{approval_id:this.approval_id,dl_remark:this.dl_remark}),this.toastr.success("Thank you. The withheld amount resolved successfully."),this.loadInvoices()}catch(a){this.toastr.error("Failed to resolve that withheld amount. Please try again"),console.error(a)}}),this.layoutService.setBreadcrumb("Wthheld Amount")}ngOnInit(){}changeFinancialYear(t){this.fin_year=t,this.loadInvoices()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(h.P),n.Y36(g.v),n.Y36(v._W))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-withheld-amount"]],decls:85,vars:26,consts:[[1,"mybox"],[1,"mybox-header"],[1,"middle"],[1,"row"],[1,"col-lg-4","col-sm-12","col-xs-12"],[3,"newItemEvent"],[1,"loader"],["class","spinner-border text-info",4,"ngIf"],["class","mybox",4,"ngIf"],["id","confirmResolve",1,"modal"],[1,"modal-dialog"],[1,"modal-content",2,"width","600px"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],["name","myForm"],[1,"col-lg-4","col-md-4","col-sm-12","col-xs-12"],[1,"col-lg-8","col-md-8","col-sm-12","col-sm-12"],[1,"row",2,"margin-top","5px"],["cols","30","rows","4","maxlength","500","placeholder","Enter your remark.","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-info",3,"click"],[1,"spinner-border","text-info"],[1,"col-md-3","col-sm-3","col-lg-3","col-xs-0"],[1,"input-group","mb-3","input-group-sm"],[1,"input-group-prepend"],[1,"input-group-text"],["aria-hidden","true",1,"fas","fa-search"],["type","text","placeholder","Enter approval id",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-6","col-sm-6","col-lg-6","col-xs-10"],[1,"col-md-3","col-sm-3","col-lg-3","col-xs-2"],["type","text","placeholder","Enter Invoice no.",1,"form-control",3,"ngModel","ngModelChange"],["class","no-record",4,"ngIf"],[4,"ngIf"],[1,"no-record"],[1,"table-responsive"],[1,"table","table-striped","table-bordered","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],["data-toggle","modal","data-target","#confirmResolve",1,"btn","btn-outline-info","round",3,"click"]],template:function(t,l){1&t&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"span"),n.TgZ(3,"strong"),n.TgZ(4,"label"),n._uU(5,"WITHHELD LIST"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(6,"div",2),n.TgZ(7,"div",3),n.TgZ(8,"div",4),n.TgZ(9,"app-financial-year",5),n.NdJ("newItemEvent",function(a){return l.changeFinancialYear(a)}),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(10,"div",6),n.YNc(11,T,1,0,"div",7),n.qZA(),n.YNc(12,C,24,4,"div",8),n.TgZ(13,"div",2),n.TgZ(14,"div",9),n.TgZ(15,"div",10),n.TgZ(16,"div",11),n.TgZ(17,"div",12),n.TgZ(18,"h4",13),n._uU(19,"Confirm"),n.qZA(),n.TgZ(20,"button",14),n._uU(21,"\xd7"),n.qZA(),n.qZA(),n.TgZ(22,"div",15),n.TgZ(23,"form",16),n.TgZ(24,"div",3),n.TgZ(25,"div",17),n._uU(26,"P.O. no. : "),n.qZA(),n.TgZ(27,"div",18),n.TgZ(28,"strong"),n._uU(29),n.qZA(),n.qZA(),n.qZA(),n.TgZ(30,"div",3),n.TgZ(31,"div",17),n._uU(32,"Invoice no. :"),n.qZA(),n.TgZ(33,"div",18),n.TgZ(34,"strong"),n._uU(35),n.qZA(),n.qZA(),n.qZA(),n.TgZ(36,"div",3),n.TgZ(37,"div",17),n._uU(38,"P.O. amount (\u20b9) :"),n.qZA(),n.TgZ(39,"div",18),n.TgZ(40,"strong"),n._uU(41),n.ALo(42,"number"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(43,"div",3),n.TgZ(44,"div",17),n._uU(45,"Invoice amount (\u20b9) :"),n.qZA(),n.TgZ(46,"div",18),n.TgZ(47,"strong"),n._uU(48),n.ALo(49,"number"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(50,"div",3),n.TgZ(51,"div",17),n._uU(52,"Initited amount(\u20b9) :"),n.qZA(),n.TgZ(53,"div",18),n.TgZ(54,"strong"),n._uU(55),n.ALo(56,"number"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(57,"div",3),n.TgZ(58,"div",17),n._uU(59,"Paid amount (\u20b9) :"),n.qZA(),n.TgZ(60,"div",18),n.TgZ(61,"strong"),n._uU(62),n.ALo(63,"number"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(64,"div",3),n.TgZ(65,"div",17),n._uU(66,"Pending amount (\u20b9) :"),n.qZA(),n.TgZ(67,"div",18),n.TgZ(68,"strong"),n._uU(69),n.ALo(70,"number"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(71,"div",19),n.TgZ(72,"div",17),n._uU(73,"Accountant Remark :"),n.qZA(),n.TgZ(74,"div",18),n.TgZ(75,"strong"),n._uU(76),n.qZA(),n.qZA(),n.qZA(),n.TgZ(77,"div",19),n.TgZ(78,"div",17),n._uU(79,"My Remark :"),n.qZA(),n.TgZ(80,"div",18),n.TgZ(81,"textarea",20),n.NdJ("ngModelChange",function(a){return l.dl_remark=a}),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(82,"div",21),n.TgZ(83,"button",22),n.NdJ("click",function(){return l.resolveIssue()}),n._uU(84,"Confirm"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&t&&(n.xp6(11),n.Q6J("ngIf",l.loader),n.xp6(1),n.Q6J("ngIf",l.show_invoice_list),n.xp6(17),n.Oqu(l.indent_no),n.xp6(6),n.Oqu(l.invoice_no),n.xp6(6),n.Oqu(n.xi3(42,11,l.indent_amount,"2")),n.xp6(7),n.Oqu(n.xi3(49,14,l.invoice_amount,"2")),n.xp6(7),n.Oqu(n.xi3(56,17,l.subTotal,"2")),n.xp6(7),n.Oqu(n.xi3(63,20,l.paid_amount,"2")),n.xp6(7),n.Oqu(n.xi3(70,23,l.pending_amount,"2")),n.xp6(7),n.Oqu(l.remark),n.xp6(5),n.Q6J("ngModel",l.dl_remark))},directives:[m.L,s.O5,d._Y,d.JL,d.F,d.Fj,d.nD,d.Q7,d.JJ,d.On,s.sg],pipes:[s.JJ,p.G],styles:[""]}),e})()}];let I=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[c.Bz.forChild(M)],c.Bz]}),e})(),O=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[s.ez,I,o.m,d.u5]]}),e})()}}]);