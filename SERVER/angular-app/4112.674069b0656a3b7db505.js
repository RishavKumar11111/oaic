"use strict";(self.webpackChunkangular_application=self.webpackChunkangular_application||[]).push([[4112],{4112:(T,u,n)=>{n.r(u),n.d(u,{ItemsListModule:()=>J});var g=n(1138),o=n(665),c=n(8583),Z=n(6901),r=n(4762),e=n(639),p=n(4495),I=n(5620),_=n(9344),v=n(4881),A=n(9195),q=n(1925),f=n(948),M=n(1410);function b(a,d){if(1&a){const i=e.EpF();e.TgZ(0,"div",25),e.TgZ(1,"div",26),e.TgZ(2,"span"),e.TgZ(3,"strong"),e.TgZ(4,"label"),e._uU(5,"Search Item"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",27),e.TgZ(7,"div",28),e.TgZ(8,"label"),e._uU(9,"Implement : "),e.qZA(),e.TgZ(10,"input",29),e.NdJ("ngModelChange",function(l){return e.CHM(i),e.oxw().searchByImplement=l}),e.qZA(),e.qZA(),e.TgZ(11,"div",28),e.TgZ(12,"label"),e._uU(13,"Make : "),e.qZA(),e.TgZ(14,"input",30),e.NdJ("ngModelChange",function(l){return e.CHM(i),e.oxw().searchByMake=l}),e.qZA(),e.qZA(),e.TgZ(15,"div",28),e.TgZ(16,"label"),e._uU(17,"Model : "),e.qZA(),e.TgZ(18,"input",31),e.NdJ("ngModelChange",function(l){return e.CHM(i),e.oxw().searchByModel=l}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&a){const i=e.oxw();e.xp6(10),e.Q6J("ngModel",i.searchByImplement),e.xp6(4),e.Q6J("ngModel",i.searchByMake),e.xp6(4),e.Q6J("ngModel",i.searchByModel)}}function S(a,d){1&a&&e._UZ(0,"div",32)}function C(a,d){if(1&a){const i=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e.TgZ(12,"button",36),e.NdJ("click",function(){const m=e.CHM(i).$implicit;return e.oxw(2).showItemDetail(m)}),e._UZ(13,"i",37),e.qZA(),e.qZA(),e.TgZ(14,"td"),e.TgZ(15,"button",38),e.NdJ("click",function(){const m=e.CHM(i).$implicit;return e.oxw(2).showUpdateItem(m)}),e._UZ(16,"i",39),e.qZA(),e.qZA(),e.TgZ(17,"td"),e.TgZ(18,"button",40),e.NdJ("click",function(){const m=e.CHM(i).$implicit;return e.oxw(2).showRemoveItemModal(m)}),e._UZ(19,"i",41),e.qZA(),e.qZA(),e.qZA()}if(2&a){const i=d.$implicit,s=d.index;e.xp6(2),e.Oqu(s+1),e.xp6(2),e.Oqu(i.DivisionName),e.xp6(2),e.Oqu(i.Implement),e.xp6(2),e.Oqu(i.Make),e.xp6(2),e.Oqu(i.Model)}}function U(a,d){if(1&a&&(e.TgZ(0,"div",25),e.TgZ(1,"div",26),e.TgZ(2,"span"),e.TgZ(3,"strong"),e.TgZ(4,"label"),e._uU(5,"All Item List"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",33),e.TgZ(7,"table",34),e.TgZ(8,"thead"),e.TgZ(9,"tr"),e.TgZ(10,"th"),e._uU(11,"SL"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Division"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Product Category"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Manufacturer"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Model / Item"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"View"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"Update"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Remove"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"tbody"),e.YNc(27,C,20,5,"tr",35),e.ALo(28,"search"),e.ALo(29,"search"),e.ALo(30,"search"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&a){const i=e.oxw();e.xp6(27),e.Q6J("ngForOf",e.xi3(28,1,e.xi3(29,4,e.xi3(30,7,i.itemList,i.searchByImplement),i.searchByMake),i.searchByModel))}}function y(a,d){if(1&a){const i=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"button",42),e.NdJ("click",function(){return e.CHM(i),e.oxw().back()}),e._UZ(2,"i",43),e._uU(3," Back"),e.qZA(),e.TgZ(4,"form",44),e.TgZ(5,"div",25),e.TgZ(6,"div",26),e.TgZ(7,"span"),e.TgZ(8,"strong"),e.TgZ(9,"label"),e._uU(10,"ITEM DETAIL"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",12),e._UZ(12,"app-enter-item-details-form",13),e._UZ(13,"app-calculate-item-price",13),e.qZA(),e.qZA(),e.TgZ(14,"div",25),e.TgZ(15,"div",26),e.TgZ(16,"span"),e.TgZ(17,"strong"),e.TgZ(18,"label"),e._uU(19,"Invoice Price"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",12),e._UZ(21,"app-enter-packages",13),e.TgZ(22,"div",45),e.TgZ(23,"button",46),e.NdJ("click",function(){return e.CHM(i),e.oxw().back()}),e._UZ(24,"i",43),e._uU(25," Back"),e.qZA(),e.TgZ(26,"button",46),e.NdJ("click",function(){return e.CHM(i),e.oxw().proceed()}),e._uU(27,"Proceed "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&a){const i=e.oxw();e.xp6(12),e.Q6J("ItemDetailsForm",i.ItemDetailsForm),e.xp6(1),e.Q6J("ItemDetailsForm",i.ItemDetailsForm),e.xp6(8),e.Q6J("ItemDetailsForm",i.ItemDetailsForm)}}const k=[{path:"",component:(()=>{class a{constructor(i,s,l,m){this.layoutService=i,this.service=s,this.toastr=l,this.fb=m,this.searchByImplement="",this.searchByMake="",this.searchByModel="",this.loadingData=!0,this.first_box=!0,this.update_detail=!1,this.item={},this.itemList=[],this.originalItem={},this.loadItemList=()=>(0,r.mG)(this,void 0,void 0,function*(){this.itemList=[],this.loadingData=!0,this.itemList=yield this.service.get("/admin/getAllItemList"),this.loadingData=!1}),this.showRemoveItemModal=t=>{this.selectFormFields(t)},this.showItemDetail=t=>{this.selectFormFields(t)},this.showUpdateItem=t=>{this.item=t,this.first_box=!1,this.update_detail=!0,this.item=t,this.originalItem={Implement:t.Implement,Make:t.Make,Model:t.Model},this.selectFormFields(t)},this.back=()=>{this.update_detail=!1,this.first_box=!0},this.proceed=()=>{this.update()},this.update=()=>(0,r.mG)(this,void 0,void 0,function*(){try{const t=this.ItemDetailsForm.value;yield this.service.post("/admin/updateItemDetail",{originalItem:this.originalItem,updateData:t}),this.loadItemList(),this.toastr.success("Successfully Updated Item Details"),this.back()}catch(t){this.toastr.error("Sorry. Server problem. Plaese try again."),console.error(t)}}),this.removeItem=()=>(0,r.mG)(this,void 0,void 0,function*(){try{let t={Implement:this.ItemDetailsForm.value.Implement,Make:this.ItemDetailsForm.value.Make,Model:this.ItemDetailsForm.value.Model};yield this.service.post("/admin/removeItem",t),this.loadItemList(),this.toastr.success("Successfully Item removed.")}catch(t){this.toastr.error("Sorry, Enable to remove, Server problem. Plaese try again."),console.error(t)}}),this.selectFormFields=t=>(0,r.mG)(this,void 0,void 0,function*(){try{this.ItemDetailsForm.patchValue({Implement:t.Implement,Make:t.Make,Model:t.Model,DivisionID:t.DivisionID,HSN:t.HSN,UnitOfMeasurement:t.UnitOfMeasurement,Taxability:t.Taxability,TaxRate:t.TaxRate,PurchaseInvoiceValue:t.PurchaseInvoiceValue,PurchaseTaxableValue:t.PurchaseTaxableValue,PurchaseCGST:t.PurchaseCGST,PurchaseSGST:t.PurchaseSGST,PurchaseIGST:t.PurchaseIGST,PurchaseSGSTOnePercent:t.PurchaseSGSTOnePercent,PurchaseCGSTOnePercent:t.PurchaseCGSTOnePercent,SellInvoiceValue:t.SellInvoiceValue,SellTaxableValue:t.SellTaxableValue,SellCGST:t.SellCGST,SellSGST:t.SellSGST,SellIGST:t.SellIGST});const h=yield this.service.post("/api/getPackagesList",{Implement:t.Implement,Make:t.Make,Model:t.Model,DivisionID:t.DivisionID});this.packagesList.value=[],h.forEach(O=>{this.packagesList.value.push(O)})}catch(h){console.error(h),this.toastr.error("Network Problem, try again")}}),this.layoutService.setBreadcrumb("Item / Update Items Details"),this.loadItemList(),this.ItemDetailsForm=this.fb.group({Implement:["",[o.kI.required]],Make:["",[o.kI.required]],Model:["",[o.kI.required]],DivisionID:["",[o.kI.required]],HSN:["",[o.kI.required]],UnitOfMeasurement:["",[o.kI.required]],Taxability:["Taxable",[o.kI.required]],TaxRate:["12",[o.kI.required]],PurchaseInvoiceValue:["",[o.kI.required]],PurchaseTaxableValue:["0",[o.kI.required]],PurchaseCGST:["0",[o.kI.required]],PurchaseSGST:["0",[o.kI.required]],PurchaseIGST:["0",[o.kI.required]],PurchaseSGSTOnePercent:["0",[o.kI.required]],PurchaseCGSTOnePercent:["0",[o.kI.required]],SellInvoiceValue:["",[o.kI.required]],SellTaxableValue:["0",[o.kI.required]],SellCGST:["0",[o.kI.required]],SellSGST:["0",[o.kI.required]],SellIGST:["0",[o.kI.required]],packagesList:this.fb.array([])})}ngOnInit(){}get packagesList(){return this.ItemDetailsForm.get("packagesList")}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(p.P),e.Y36(I.v),e.Y36(_._W),e.Y36(o.qu))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-items-list"]],decls:70,vars:9,consts:[["class","mybox",4,"ngIf"],[1,"loader"],["class","spinner-border text-info",4,"ngIf"],[4,"ngIf"],[1,"container"],["id","viewItemDetailModal",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body",2,"padding","0"],[1,"middle"],[3,"ItemDetailsForm"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-outline-info"],["id","reviewUpdateItemsModal",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content",2,"width","130%"],["type","button","data-dismiss","modal",1,"btn","btn-outline-info",3,"click"],["id","removeItemModal",1,"modal","fade"],[1,"modal-header","removeModal"],[1,"modal-body","boldFont",2,"padding","0"],[1,"table","table-hover",2,"color","red"],["type","button","data-dismiss","modal",1,"btn","btn-outline-danger",3,"click"],[1,"mybox"],[1,"mybox-header"],[1,"middle","row"],[1,"col-md-3"],["type","text","placeholder","Search by Implement.",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Search by Make.",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Search by Model / Item",1,"form-control",3,"ngModel","ngModelChange"],[1,"spinner-border","text-info"],[1,"table-responsive","fixed-height-table"],[1,"table","table-head-fixed","table-striped","table-hover"],[4,"ngFor","ngForOf"],["data-toggle","modal","data-target","#viewItemDetailModal",1,"btn","btn-outline-info",3,"click"],["aria-hidden","true",1,"fas","fa-bars"],[1,"btn","btn-outline-info",3,"click"],["aria-hidden","true",1,"fas","fa-edit"],["data-toggle","modal","data-target","#removeItemModal",1,"btn","btn-outline-danger",3,"click"],["aria-hidden","true",1,"fas","fa-trash"],[1,"btn","btn-info","btn-sm","topBack",3,"click"],["aria-hidden","true",1,"fas","fa-arrow-left"],["name","updateForn"],[1,"bottomBack"],[1,"btn","btn-info","btn-sm",3,"click"]],template:function(i,s){1&i&&(e.YNc(0,b,19,3,"div",0),e.TgZ(1,"div",1),e.YNc(2,S,1,0,"div",2),e.qZA(),e.YNc(3,U,31,10,"div",0),e.YNc(4,y,28,3,"div",3),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"div",6),e.TgZ(8,"div",7),e.TgZ(9,"div",8),e.TgZ(10,"h5",9),e._uU(11,"Item detail"),e.qZA(),e.TgZ(12,"button",10),e._uU(13,"\xd7"),e.qZA(),e.qZA(),e.TgZ(14,"div",11),e.TgZ(15,"div",12),e._UZ(16,"app-preview-item-details",13),e.qZA(),e.qZA(),e.TgZ(17,"div",14),e.TgZ(18,"button",15),e._uU(19,"Close"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",4),e.TgZ(21,"div",16),e.TgZ(22,"div",17),e.TgZ(23,"div",18),e.TgZ(24,"div",8),e.TgZ(25,"h5",9),e._uU(26,"Item detail"),e.qZA(),e.TgZ(27,"button",10),e._uU(28,"\xd7"),e.qZA(),e.qZA(),e.TgZ(29,"div",11),e.TgZ(30,"div",12),e._UZ(31,"app-preview-item-details",13),e.qZA(),e.qZA(),e.TgZ(32,"div",14),e.TgZ(33,"button",15),e._uU(34,"Close"),e.qZA(),e.TgZ(35,"button",19),e.NdJ("click",function(){return s.update()}),e._uU(36,"Update"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(37,"div",4),e.TgZ(38,"div",20),e.TgZ(39,"div",17),e.TgZ(40,"div",7),e.TgZ(41,"div",21),e.TgZ(42,"h5",9),e._uU(43,"Are you sure to remove this item"),e.qZA(),e.TgZ(44,"button",10),e._uU(45,"\xd7"),e.qZA(),e.qZA(),e.TgZ(46,"div",22),e.TgZ(47,"table",23),e._UZ(48,"caption"),e.TgZ(49,"tbody"),e.TgZ(50,"tr"),e.TgZ(51,"td"),e._uU(52,"Product Category:"),e.qZA(),e.TgZ(53,"td"),e._uU(54),e.qZA(),e.qZA(),e.TgZ(55,"tr"),e.TgZ(56,"td"),e._uU(57,"Manufacturer:"),e.qZA(),e.TgZ(58,"td"),e._uU(59),e.qZA(),e.qZA(),e.TgZ(60,"tr"),e.TgZ(61,"td"),e._uU(62,"Model / Item:"),e.qZA(),e.TgZ(63,"td"),e._uU(64),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(65,"div",14),e.TgZ(66,"button",15),e._uU(67,"No"),e.qZA(),e.TgZ(68,"button",24),e.NdJ("click",function(){return s.removeItem()}),e._uU(69,"Yes"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.Q6J("ngIf",s.first_box),e.xp6(2),e.Q6J("ngIf",s.loadingData),e.xp6(1),e.Q6J("ngIf",s.first_box),e.xp6(1),e.Q6J("ngIf",s.update_detail),e.xp6(12),e.Q6J("ItemDetailsForm",s.ItemDetailsForm),e.xp6(15),e.Q6J("ItemDetailsForm",s.ItemDetailsForm),e.xp6(23),e.Oqu(s.ItemDetailsForm.value.Implement),e.xp6(5),e.Oqu(s.ItemDetailsForm.value.Make),e.xp6(5),e.Oqu(s.ItemDetailsForm.value.Model))},directives:[c.O5,v.f,o.Fj,o.JJ,o.On,c.sg,o._Y,o.JL,o.F,A.l,q.B,f.w],pipes:[M.G],styles:[""]}),a})()}];let x=(()=>{class a{}return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[Z.Bz.forChild(k)],Z.Bz]}),a})();var D=n(6796),L=n(5575),F=n(2987),P=n(4466);let J=(()=>{class a{}return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[c.ez,x,o.u5,o.UX,D.T,L.B,F.v,g.N,P.m]]}),a})()},1410:(T,u,n)=>{n.d(u,{G:()=>o});var g=n(639);let o=(()=>{class c{transform(r,e){return r?e?(e=e.toLowerCase(),r.filter(function(p){return JSON.stringify(p).toLowerCase().includes(e)})):r:null}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275pipe=g.Yjl({name:"search",type:c,pure:!0}),c})()},4466:(T,u,n)=>{n.d(u,{m:()=>Z});var g=n(8583),o=n(665),c=n(639);let Z=(()=>{class r{}return r.\u0275fac=function(p){return new(p||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[[g.ez,o.u5]]}),r})()}}]);