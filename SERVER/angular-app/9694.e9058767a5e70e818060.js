"use strict";(self.webpackChunkangular_application=self.webpackChunkangular_application||[]).push([[9694],{5913:(y,Z,l)=>{l.d(Z,{I:()=>a,K:()=>p});var h=l(639);let a=(()=>{class d{constructor(){this._printStyle=[],this.useExistingCss=!1,this.printDelay=0,this._styleSheetFile=""}set printStyle(i){for(let e in i)i.hasOwnProperty(e)&&this._printStyle.push((e+JSON.stringify(i[e])).replace(/['"]+/g,""));this.returnStyleValues()}returnStyleValues(){return`<style> ${this._printStyle.join(" ").replace(/,/g,";")} </style>`}set styleSheetFile(i){let e=function(s){return`<link rel="stylesheet" type="text/css" href="${s}">`};if(-1!==i.indexOf(",")){const s=i.split(",");for(let g of s)this._styleSheetFile=this._styleSheetFile+e(g)}else this._styleSheetFile=e(i)}returnStyleSheetLinkTags(){return this._styleSheetFile}getElementTag(i){const e=[],s=document.getElementsByTagName(i);for(let g=0;g<s.length;g++)e.push(s[g].outerHTML);return e.join("\r\n")}getFormData(i){for(var e=0;e<i.length;e++)i[e].defaultValue=i[e].value,i[e].checked&&(i[e].defaultChecked=!0)}getHtmlContents(){let i=document.getElementById(this.printSectionId),e=i.getElementsByTagName("input");this.getFormData(e);let s=i.getElementsByTagName("textarea");return this.getFormData(s),i.innerHTML}print(){let i,e,s="",g="";const _=this.getElementTag("base");this.useExistingCss&&(s=this.getElementTag("style"),g=this.getElementTag("link")),i=this.getHtmlContents(),e=window.open("","_blank","top=0,left=0,height=auto,width=auto"),e.document.open(),e.document.write(`\n      <html>\n        <head>\n          <title>${this.printTitle?this.printTitle:""}</title>\n          ${_}\n          ${this.returnStyleValues()}\n          ${this.returnStyleSheetLinkTags()}\n          ${s}\n          ${g}\n        </head>\n        <body>\n          ${i}\n          <script defer>\n            function triggerPrint(event) {\n              window.removeEventListener('load', triggerPrint, false);\n              setTimeout(function() {\n                closeWindow(window.print());\n              }, ${this.printDelay});\n            }\n            function closeWindow(){\n                window.close();\n            }\n            window.addEventListener('load', triggerPrint, false);\n          <\/script>\n        </body>\n      </html>`),e.document.close()}}return d.\u0275fac=function(i){return new(i||d)},d.\u0275dir=h.lG2({type:d,selectors:[["button","ngxPrint",""]],hostBindings:function(i,e){1&i&&h.NdJ("click",function(){return e.print()})},inputs:{useExistingCss:"useExistingCss",printDelay:"printDelay",printStyle:"printStyle",styleSheetFile:"styleSheetFile",printSectionId:"printSectionId",printTitle:"printTitle"}}),d})(),p=(()=>{class d{}return d.\u0275fac=function(i){return new(i||d)},d.\u0275mod=h.oAB({type:d}),d.\u0275inj=h.cJS({imports:[[]]}),d})()},9694:(y,Z,l)=>{l.r(Z),l.d(Z,{VendorWiseLedgerModule:()=>L});var h=l(8583),a=l(4466),p=l(665),d=l(5913),c=l(6901),i=l(4762),e=l(639),s=l(4495),g=l(5620),_=l(1841),T=l(1879);function A(r,u){if(1&r&&(e.TgZ(0,"option",13),e._uU(1),e.qZA()),2&r){const o=u.$implicit;e.Q6J("ngValue",o),e.xp6(1),e.hij(" ",o.LegalBussinessName,"")}}function D(r,u){1&r&&e._UZ(0,"div",14)}function x(r,u){if(1&r&&(e.TgZ(0,"div",17),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" No record found on financial year ",o.fin_year,". ")}}function M(r,u){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.ALo(12,"number"),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.ALo(15,"number"),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.ALo(18,"number"),e.qZA(),e.qZA()),2&r){const o=u.$implicit,m=u.index;e.xp6(2),e.Oqu(m+1),e.xp6(2),e.Oqu(e.xi3(5,7,o.date,"dd-MM-y")),e.xp6(3),e.Oqu(o.from_name),e.xp6(2),e.Oqu(o.to_name),e.xp6(2),e.Oqu(e.lcZ(12,10,o.credit)),e.xp6(3),e.Oqu(e.lcZ(15,12,o.debit)),e.xp6(3),e.Oqu(e.lcZ(18,14,o.balance))}}function E(r,u){if(1&r&&(e.TgZ(0,"div"),e.TgZ(1,"div",18),e.TgZ(2,"table",19),e._UZ(3,"caption"),e.TgZ(4,"thead"),e.TgZ(5,"tr"),e.TgZ(6,"th",20),e._uU(7,"SL."),e.qZA(),e.TgZ(8,"th",20),e._uU(9,"Date"),e.qZA(),e.TgZ(10,"th",20),e._uU(11,"From"),e.qZA(),e.TgZ(12,"th",20),e._uU(13,"To"),e.qZA(),e.TgZ(14,"th",20),e._uU(15,"Credit(\u20b9)"),e.qZA(),e.TgZ(16,"th",20),e._uU(17,"Debit(\u20b9)"),e.qZA(),e.TgZ(18,"th",20),e._uU(19,"Balance(\u20b9)"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"tbody"),e.YNc(21,M,19,16,"tr",21),e.TgZ(22,"tr"),e._UZ(23,"td"),e._UZ(24,"td"),e._UZ(25,"td"),e.TgZ(26,"td"),e.TgZ(27,"strong"),e._uU(28,"Total(\u20b9)"),e.qZA(),e.qZA(),e.TgZ(29,"td",22),e._uU(30),e.ALo(31,"number"),e.qZA(),e.TgZ(32,"td",22),e._uU(33),e.ALo(34,"number"),e.qZA(),e._UZ(35,"td"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&r){const o=e.oxw(2);e.xp6(21),e.Q6J("ngForOf",o.ledgers),e.xp6(9),e.Oqu(e.lcZ(31,3,o.totalCredit)),e.xp6(3),e.Oqu(e.lcZ(34,5,o.totalDebit))}}function b(r,u){if(1&r&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"span"),e.TgZ(3,"strong"),e.TgZ(4,"label"),e._uU(5,"TRANSACTIONS"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div"),e.YNc(7,x,2,1,"div",15),e.YNc(8,E,36,7,"div",16),e.qZA(),e.qZA()),2&r){const o=e.oxw();e.xp6(7),e.Q6J("ngIf",0==o.ledgers.length),e.xp6(1),e.Q6J("ngIf",0!=o.ledgers.length)}}const I=[{path:"",component:(()=>{class r{constructor(o,m,v){this.layoutService=o,this.service=m,this.http=v,this.showTable=!1,this.loader=!0,this.ledgers=[],this.all_delears=[],this.loadDistWiseAllDealerLedger=()=>(0,i.mG)(this,void 0,void 0,function*(){let f=yield this.service.get("/accountant/getDistWiseAllDealerLedger?dist_id="+this.dist_id+"&fin_year="+this.fin_year);this.ledgers=f;let n=f;this.totalCredit=0,this.totalDebit=0,n.filter(t=>t.date=new Date(t.date)),n.sort((t,C)=>t.date-C.date);for(let t=0;t<n.length;t++)n[t].debit=0,n[t].credit=0,n[t].from=="DS-"+this.dist_id?(n[t].credit=n[t].ammount,n[t].debit=0,this.totalCredit+=parseInt(n[t].credit)):n[t].to=="DS-"+this.dist_id&&(n[t].debit=n[t].ammount,n[t].credit=0,this.totalDebit+=parseInt(n[t].debit)),n[t].balance=0==t?parseInt(n[t].credit)-parseInt(n[t].debit):parseInt(n[t-1].balance)+parseInt(n[t].credit)-parseInt(n[t].debit);this.loader=!1,this.showTable=!0}),this.loadDelears=()=>(0,i.mG)(this,void 0,void 0,function*(){this.showTable=!1,this.loader=!0;let f=yield this.service.get("/accountant/getAllDistWiseDelear?fin_year="+this.fin_year+"&dist_id="+this.dist_id);this.all_delears=f,this.loader=!1}),this.loadTable=()=>(0,i.mG)(this,void 0,void 0,function*(){if(this.loader=!0,null!=this.dealer){let f=yield this.service.get("/accountant/getAllDelearLedgers?dist_id="+this.dist_id+"&fin_year="+this.fin_year+"&dl_id="+this.dealer.dl_id);this.dl_name=this.dealer.LegalBussinessName,this.ledgers=f;let n=f;this.totalCredit=0,this.totalDebit=0,n.filter(t=>t.date=new Date(t.date)),n.sort((t,C)=>t.date-C.date);for(let t=0;t<n.length;t++)n[t].debit=0,n[t].credit=0,n[t].from=="DS-"+this.dist_id?(n[t].credit=n[t].ammount,n[t].debit=0,this.totalCredit+=parseInt(n[t].credit)):n[t].to=="DS-"+this.dist_id&&(n[t].debit=n[t].ammount,n[t].credit=0,this.totalDebit+=parseInt(n[t].debit)),n[t].balance=0==t?parseInt(n[t].credit)-parseInt(n[t].debit):parseInt(n[t-1].balance)+parseInt(n[t].credit)-parseInt(n[t].debit);this.loader=!1,this.showTable=!0}else this.loadDistWiseAllDealerLedger()}),this.sortedOrderOfColumn=f=>{this.orderBy=f},this.layoutService.setBreadcrumb("Ledger / Vendor wise ledger"),this.dist_id=o.getDistrictID()}ngOnInit(){}changeFinancialYear(o){this.fin_year=o,this.loadDistWiseAllDealerLedger(),this.loadDelears(),this.header=!0}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(s.P),e.Y36(g.v),e.Y36(_.eN))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-vendor-wise"]],decls:20,vars:4,consts:[[1,"mybox"],[1,"mybox-header"],[1,"middle"],[1,"row"],[1,"col-lg-3"],[3,"newItemEvent"],[1,"col-lg-5"],[1,"form-control",3,"ngModel","ngModelChange","change"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],[1,"loader"],["class","spinner-border text-info",4,"ngIf"],["class","mybox",4,"ngIf"],[3,"ngValue"],[1,"spinner-border","text-info"],["class","no-record",4,"ngIf"],[4,"ngIf"],[1,"no-record"],[1,"table-responsive"],["id","orderListTable",1,"table","table-striped","table-bordered","table-hover",2,"text-align","center"],["scope","col"],[4,"ngFor","ngForOf"],[2,"width","10%"]],template:function(o,m){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"span"),e.TgZ(3,"strong"),e.TgZ(4,"label"),e._uU(5,"Vendor wise Ledger"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",2),e.TgZ(7,"div",3),e.TgZ(8,"div",4),e.TgZ(9,"app-financial-year",5),e.NdJ("newItemEvent",function(f){return m.changeFinancialYear(f)}),e.qZA(),e.qZA(),e.TgZ(10,"div",6),e.TgZ(11,"label"),e._uU(12,"Select the Vendor:"),e.qZA(),e.TgZ(13,"select",7),e.NdJ("ngModelChange",function(f){return m.dealer=f})("change",function(){return m.loadTable()}),e.TgZ(14,"option",8),e._uU(15,"ALL"),e.qZA(),e.YNc(16,A,2,2,"option",9),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",10),e.YNc(18,D,1,0,"div",11),e.qZA(),e.YNc(19,b,9,2,"div",12)),2&o&&(e.xp6(13),e.Q6J("ngModel",m.dealer),e.xp6(3),e.Q6J("ngForOf",m.all_delears),e.xp6(2),e.Q6J("ngIf",m.loader),e.xp6(1),e.Q6J("ngIf",m.showTable))},directives:[T.L,p.EJ,p.JJ,p.On,p.YN,p.Kr,h.sg,h.O5],pipes:[h.JJ,h.uU],styles:[""]}),r})()}];let O=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[c.Bz.forChild(I)],c.Bz]}),r})(),L=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[h.ez,a.m,p.u5,d.K,O]]}),r})()},1879:(y,Z,l)=>{l.d(Z,{L:()=>e});var h=l(4762),a=l(639),p=l(5620),d=l(665),c=l(8583);function i(s,g){if(1&s&&(a.TgZ(0,"option",3),a._uU(1),a.qZA()),2&s){const _=g.$implicit;a.Q6J("ngValue",_),a.xp6(1),a.Oqu(_)}}let e=(()=>{class s{constructor(_){this.service=_,this.financialYear="",this.financialYearList=[],this.newItemEvent=new a.vpe,this.loadFinancialYear=()=>(0,h.mG)(this,void 0,void 0,function*(){this.financialYearList=yield this.service.get("/api/getFinYear"),this.financialYear=this.financialYearList[0],this.changeFinancialYear()}),this.loadFinancialYear()}ngOnInit(){}changeFinancialYear(){this.newItemEvent.emit(this.financialYear)}}return s.\u0275fac=function(_){return new(_||s)(a.Y36(p.v))},s.\u0275cmp=a.Xpm({type:s,selectors:[["app-financial-year"]],outputs:{newItemEvent:"newItemEvent"},decls:6,vars:2,consts:[[1,"form-control",3,"ngModel","ngModelChange","change"],["value","","disabled",""],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(_,T){1&_&&(a.TgZ(0,"label"),a._uU(1,"Financial year :"),a.qZA(),a.TgZ(2,"select",0),a.NdJ("ngModelChange",function(D){return T.financialYear=D})("change",function(){return T.changeFinancialYear()}),a.TgZ(3,"option",1),a._uU(4,"--Select--"),a.qZA(),a.YNc(5,i,2,2,"option",2),a.qZA()),2&_&&(a.xp6(2),a.Q6J("ngModel",T.financialYear),a.xp6(3),a.Q6J("ngForOf",T.financialYearList))},directives:[d.EJ,d.JJ,d.On,d.YN,d.Kr,c.sg],styles:[""]}),s})()},4466:(y,Z,l)=>{l.d(Z,{m:()=>d});var h=l(8583),a=l(665),p=l(639);let d=(()=>{class c{}return c.\u0275fac=function(e){return new(e||c)},c.\u0275mod=p.oAB({type:c}),c.\u0275inj=p.cJS({imports:[[h.ez,a.u5]]}),c})()}}]);