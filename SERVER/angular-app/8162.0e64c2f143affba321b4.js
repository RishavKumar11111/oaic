"use strict";(self.webpackChunkangular_application=self.webpackChunkangular_application||[]).push([[8162],{5913:(C,v,s)=>{s.d(v,{I:()=>r,K:()=>T});var m=s(639);let r=(()=>{class c{constructor(){this._printStyle=[],this.useExistingCss=!1,this.printDelay=0,this._styleSheetFile=""}set printStyle(a){for(let e in a)a.hasOwnProperty(e)&&this._printStyle.push((e+JSON.stringify(a[e])).replace(/['"]+/g,""));this.returnStyleValues()}returnStyleValues(){return`<style> ${this._printStyle.join(" ").replace(/,/g,";")} </style>`}set styleSheetFile(a){let e=function(d){return`<link rel="stylesheet" type="text/css" href="${d}">`};if(-1!==a.indexOf(",")){const d=a.split(",");for(let g of d)this._styleSheetFile=this._styleSheetFile+e(g)}else this._styleSheetFile=e(a)}returnStyleSheetLinkTags(){return this._styleSheetFile}getElementTag(a){const e=[],d=document.getElementsByTagName(a);for(let g=0;g<d.length;g++)e.push(d[g].outerHTML);return e.join("\r\n")}getFormData(a){for(var e=0;e<a.length;e++)a[e].defaultValue=a[e].value,a[e].checked&&(a[e].defaultChecked=!0)}getHtmlContents(){let a=document.getElementById(this.printSectionId),e=a.getElementsByTagName("input");this.getFormData(e);let d=a.getElementsByTagName("textarea");return this.getFormData(d),a.innerHTML}print(){let a,e,d="",g="";const h=this.getElementTag("base");this.useExistingCss&&(d=this.getElementTag("style"),g=this.getElementTag("link")),a=this.getHtmlContents(),e=window.open("","_blank","top=0,left=0,height=auto,width=auto"),e.document.open(),e.document.write(`\n      <html>\n        <head>\n          <title>${this.printTitle?this.printTitle:""}</title>\n          ${h}\n          ${this.returnStyleValues()}\n          ${this.returnStyleSheetLinkTags()}\n          ${d}\n          ${g}\n        </head>\n        <body>\n          ${a}\n          <script defer>\n            function triggerPrint(event) {\n              window.removeEventListener('load', triggerPrint, false);\n              setTimeout(function() {\n                closeWindow(window.print());\n              }, ${this.printDelay});\n            }\n            function closeWindow(){\n                window.close();\n            }\n            window.addEventListener('load', triggerPrint, false);\n          <\/script>\n        </body>\n      </html>`),e.document.close()}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275dir=m.lG2({type:c,selectors:[["button","ngxPrint",""]],hostBindings:function(a,e){1&a&&m.NdJ("click",function(){return e.print()})},inputs:{useExistingCss:"useExistingCss",printDelay:"printDelay",printStyle:"printStyle",styleSheetFile:"styleSheetFile",printSectionId:"printSectionId",printTitle:"printTitle"}}),c})(),T=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=m.oAB({type:c}),c.\u0275inj=m.cJS({imports:[[]]}),c})()},8162:(C,v,s)=>{s.r(v),s.d(v,{RecieptModule:()=>w});var m=s(8583),r=s(4466),T=s(665),c=s(5913),p=s(6901),a=s(4762),e=s(639),d=s(4495),g=s(5620),h=s(1841),A=s(1879);function x(i,_){if(1&i){const n=e.EpF();e.TgZ(0,"div",5),e.TgZ(1,"div",6),e.TgZ(2,"span"),e.TgZ(3,"strong"),e.TgZ(4,"label"),e._uU(5,"ALL RECEIPTS"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",7),e.TgZ(7,"div",8),e.TgZ(8,"div",9),e.TgZ(9,"app-financial-year",10),e.NdJ("newItemEvent",function(Z){return e.CHM(n),e.oxw().changeFinancialYear(Z)}),e.qZA(),e.qZA(),e.TgZ(10,"div",9),e.TgZ(11,"label"),e._uU(12,"From date :"),e.qZA(),e.TgZ(13,"input",11),e.NdJ("ngModelChange",function(Z){return e.CHM(n),e.oxw().fromDate=Z}),e.qZA(),e.qZA(),e.TgZ(14,"div",9),e.TgZ(15,"label"),e._uU(16,"To date :"),e.qZA(),e.TgZ(17,"input",11),e.NdJ("ngModelChange",function(Z){return e.CHM(n),e.oxw().toDate=Z}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const n=e.oxw();e.xp6(13),e.Q6J("ngModel",n.fromDate),e.xp6(4),e.Q6J("ngModel",n.toDate)}}function q(i,_){1&i&&e._UZ(0,"div",12)}function y(i,_){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const n=e.oxw(2);e.xp6(1),e.hij(" No record found on financial year ",n.fin_year,". ")}}function b(i,_){if(1&i){const n=e.EpF();e.TgZ(0,"div",22),e.TgZ(1,"a",23),e.NdJ("click",function(){e.CHM(n);const Z=e.oxw().$implicit;return e.oxw(3).showReceipt(Z.reference_no)}),e._uU(2,"Print Receipt"),e.qZA(),e.TgZ(3,"a",23),e.NdJ("click",function(){e.CHM(n);const Z=e.oxw().$implicit;return e.oxw(3).showDetails(Z.reference_no)}),e._uU(4,"View Ledger"),e.qZA(),e.qZA()}}function U(i,_){if(1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.YNc(10,b,5,0,"div",21),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.ALo(13,"number"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.ALo(16,"number"),e.qZA(),e.qZA()),2&i){const n=_.$implicit,u=_.index;e.xp6(2),e.Oqu(u+1),e.xp6(2),e.Oqu(e.xi3(5,7,n.date,"dd-MM-y")),e.xp6(3),e.Oqu(n.reference_no),e.xp6(2),e.hij("",n.perticulars," "),e.xp6(1),e.Q6J("ngIf",n.links),e.xp6(2),e.Oqu(e.lcZ(13,10,n.ammount)),e.xp6(3),e.Oqu(e.lcZ(16,12,n.balance))}}function M(i,_){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"div",13),e.TgZ(2,"table",14),e._UZ(3,"caption"),e.TgZ(4,"thead"),e.TgZ(5,"tr"),e.TgZ(6,"th",15),e._uU(7,"SL."),e.qZA(),e.TgZ(8,"th",16),e._uU(9,"Date"),e.qZA(),e.TgZ(10,"th",17),e._uU(11,"Reference no."),e.qZA(),e.TgZ(12,"th",15),e._uU(13,"Perticulars"),e.qZA(),e.TgZ(14,"th",18),e._uU(15,"Credit(\u20b9)"),e.qZA(),e.TgZ(16,"th",15),e._uU(17,"Balance(\u20b9)"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"tbody"),e.YNc(19,U,17,14,"tr",19),e.TgZ(20,"tr"),e._UZ(21,"td"),e._UZ(22,"td"),e._UZ(23,"td"),e.TgZ(24,"td",20),e.TgZ(25,"strong"),e._uU(26,"Total (\u20b9)"),e.qZA(),e.qZA(),e.TgZ(27,"td"),e._uU(28),e.ALo(29,"number"),e.qZA(),e._UZ(30,"td"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const n=e.oxw(2);e.xp6(19),e.Q6J("ngForOf",n.ledgers),e.xp6(9),e.Oqu(e.lcZ(29,2,n.totalCredit))}}function k(i,_){if(1&i&&(e.TgZ(0,"div",5),e.TgZ(1,"div",6),e.TgZ(2,"span"),e.TgZ(3,"strong"),e.TgZ(4,"label"),e._uU(5,"RECEIPT"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div"),e.YNc(7,y,2,1,"div",3),e.YNc(8,M,31,4,"div",3),e.qZA(),e.qZA()),2&i){const n=e.oxw();e.xp6(7),e.Q6J("ngIf",0==n.ledgers.length),e.xp6(1),e.Q6J("ngIf",0!=n.ledgers.length)}}function B(i,_){if(1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.ALo(14,"number"),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.ALo(17,"number"),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.ALo(20,"number"),e.qZA(),e.TgZ(21,"td"),e._uU(22),e.qZA(),e.qZA()),2&i){const n=_.$implicit,u=_.index;e.xp6(2),e.Oqu(u+1),e.xp6(2),e.Oqu(e.xi3(5,9,n.date,"dd-MM-yyyy")),e.xp6(3),e.Oqu(n.reference_no),e.xp6(2),e.Oqu(n.from_name),e.xp6(2),e.Oqu(n.to_name),e.xp6(2),e.Oqu(e.lcZ(14,12,n.credit)),e.xp6(3),e.Oqu(e.lcZ(17,14,n.debit)),e.xp6(3),e.Oqu(e.lcZ(20,16,n.balance)),e.xp6(3),e.Oqu(n.purpose)}}function E(i,_){if(1&i){const n=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"button",24),e.NdJ("click",function(){return e.CHM(n),e.oxw().back()}),e._UZ(2,"i",25),e._uU(3," Back"),e.qZA(),e.TgZ(4,"div",5),e.TgZ(5,"div",6),e.TgZ(6,"span"),e.TgZ(7,"strong"),e.TgZ(8,"label"),e._uU(9,"CASHBOOK"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div"),e.TgZ(11,"div",13),e.TgZ(12,"table",14),e._UZ(13,"caption"),e.TgZ(14,"thead"),e.TgZ(15,"tr"),e.TgZ(16,"th",15),e._uU(17,"SL."),e.qZA(),e.TgZ(18,"th",15),e._uU(19,"Date"),e.qZA(),e.TgZ(20,"th",15),e._uU(21,"Reference no."),e.qZA(),e.TgZ(22,"th",15),e._uU(23,"From"),e.qZA(),e.TgZ(24,"th",15),e._uU(25,"To"),e.qZA(),e.TgZ(26,"th",15),e._uU(27,"Credit(\u20b9) "),e.qZA(),e.TgZ(28,"th",15),e._uU(29,"Debit(\u20b9)"),e.qZA(),e.TgZ(30,"th",15),e._uU(31,"Balance(\u20b9)"),e.qZA(),e.TgZ(32,"th",15),e._uU(33,"Purpose"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"tbody"),e.YNc(35,B,23,18,"tr",19),e.TgZ(36,"tr"),e._UZ(37,"td"),e._UZ(38,"td"),e._UZ(39,"td"),e._UZ(40,"td"),e.TgZ(41,"td"),e.TgZ(42,"strong"),e._uU(43,"Total(\u20b9)"),e.qZA(),e.qZA(),e.TgZ(44,"td"),e._uU(45),e.ALo(46,"number"),e.qZA(),e.TgZ(47,"td"),e._uU(48),e.ALo(49,"number"),e.qZA(),e._UZ(50,"td"),e._UZ(51,"td"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(52,"div",26),e.TgZ(53,"button",27),e.NdJ("click",function(){return e.CHM(n),e.oxw().back()}),e._UZ(54,"i",25),e._uU(55," Back"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const n=e.oxw();e.xp6(35),e.Q6J("ngForOf",n.allData),e.xp6(10),e.Oqu(e.lcZ(46,3,n.totalCredit)),e.xp6(3),e.Oqu(e.lcZ(49,5,n.totalDebit))}}function D(i,_){if(1&i){const n=e.EpF();e.TgZ(0,"div",28),e.TgZ(1,"button",24),e.NdJ("click",function(){return e.CHM(n),e.oxw().back()}),e._UZ(2,"i",25),e.qZA(),e.TgZ(3,"div",5),e.TgZ(4,"div",6),e.TgZ(5,"span"),e.TgZ(6,"strong"),e.TgZ(7,"label"),e._uU(8,"MONEY RECEIPT"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div"),e._uU(10," <%- include('../common/moneyReceipt.ejs') -%> "),e.TgZ(11,"div",26),e.TgZ(12,"button",27),e.NdJ("click",function(){return e.CHM(n),e.oxw().back()}),e._UZ(13,"i",25),e._uU(14," Back"),e.qZA(),e.TgZ(15,"button",29),e._uU(16,"Print "),e._UZ(17,"i",30),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}2&i&&(e.xp6(15),e.Q6J("useExistingCss",!0))}const R=[{path:"",component:(()=>{class i{constructor(n,u,Z){this.layoutService=n,this.service=u,this.http=Z,this.showTable=!0,this.showCashBook=!1,this.printPage=!1,this.loader=!1,this.ledgers=[],this.allData=[],this.data=[],this.loadTable=()=>(0,a.mG)(this,void 0,void 0,function*(){this.loader=!0;let f=yield this.service.get("/accountant/getAllCreditLedgersForReceipt?dist_id="+this.dist_id+"&fin_year="+this.fin_year);this.loader=!1,this.showTable=!0,this.ledgers=f;let o=f;this.totalCredit=0,o.filter(t=>t.date=new Date(t.date)),o.sort((t,l)=>l.date-t.date);for(let t=0;t<o.length;t++)switch(o[t].balance=0,this.totalCredit+=parseInt(o[t].ammount),o[t].balance=0==t?o[t].ammount:parseInt(o[t].ammount)+parseInt(o[t-1].balance),o[t].purpose){case"farmerAdvancePayment":o[t].perticulars=`Received From M/S ${o[t].farmer_name}(${o[t].farmer_id})\n                            Impement : ${o[t].implement}\n                            Make : ${o[t].make}\n                            Model : ${o[t].model}`,o[t].links=!0;break;case"received_from_dept":o[t].perticulars=`Received Rupees ${o[t].ammount} only /-\n                            from  ${o[t].source_name}\n                            under  ${o[t].schem_name}\n                            against  ${o[t].comp_name}`,o[t].links=!1;break;case"received_from_dept_jn":o[t].perticulars=`Received Rupees ${o[t].ammount} only /-\n                            from  JALANIDHI\n                            under  ${o[t].scheme_name}\n                            against  ${o[t].comp_id}`,o[t].links=!1;break;case"farmer_advance_payment_jn":o[t].perticulars=`Received from M/S ${o[t].farmer_name}(${o[t].farmer_id})\n                            Impement : ${o[t].implement}\n                            Make : ${o[t].make}\n                            Model : ${o[t].model}\n                            from JALANIDHI`,o[t].links=!1}}),this.showDetails=f=>(0,a.mG)(this,void 0,void 0,function*(){let o=yield this.service.get("/accountant/getCashBookData?permit_no="+f);this.allData=o,this.showCashBook=!0,this.showTable=!1;let t=o;this.totalCredit=0,this.totalDebit=0;for(let l=0;l<t.length;l++)t[l].date=new Date(t[l].date),t[l].to=="DS-"+this.dist_id?(t[l].credit=t[l].ammount,t[l].debit=0,this.totalCredit+=parseInt(t[l].credit)):t[l].from=="DS-"+this.dist_id&&(t[l].debit=t[l].ammount,t[l].credit=0,this.totalDebit+=parseInt(t[l].debit)),t[l].balance=0==l?parseInt(t[l].credit)-parseInt(t[l].debit):parseInt(t[l-1].balance)+parseInt(t[l].credit)-parseInt(t[l].debit)}),this.showReceipt=f=>(0,a.mG)(this,void 0,void 0,function*(){let o=yield this.service.get("/accountant/getReceiptDetailsByPermitNo?permit_no="+f);this.data=o,this.showTable=!1,this.printPage=!0}),this.back=()=>{this.showCashBook=!1,this.printPage=!1,this.showTable=!0},this.layoutService.setBreadcrumb("Cashbook / Receipts"),this.dist_id=n.getDistrictID()}ngOnInit(){}changeFinancialYear(n){this.fin_year=n,this.loadTable(),this.header=!0}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(d.P),e.Y36(g.v),e.Y36(h.eN))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-cash-book-reciept"]],decls:6,vars:5,consts:[["class","mybox",4,"ngIf"],[1,"loader"],["class","spinner-border text-info",4,"ngIf"],[4,"ngIf"],["id","print",4,"ngIf"],[1,"mybox"],[1,"mybox-header"],[1,"middle"],[1,"row"],[1,"col-lg-3"],[3,"newItemEvent"],["type","date",1,"form-control",3,"ngModel","ngModelChange"],[1,"spinner-border","text-info"],[1,"table-responsive"],["id","orderListTable",1,"table","table-striped","table-bordered","table-hover",2,"text-align","center"],["scope","col"],["scope","col",2,"width","10%"],["scope","col",2,"width","21%"],["scope","col",2,"width","13%"],[4,"ngFor","ngForOf"],[2,"text-align","right"],["style","text-align: center;",4,"ngIf"],[2,"text-align","center"],[1,"btn","btn-link",2,"font-size","smaller","color","green",3,"click"],[1,"btn","btn-info","btn-sm","topBack",3,"click"],["aria-hidden","true",1,"fas","fa-arrow-left"],[1,"bottomBack"],[1,"btn","btn-info","btn-sm",3,"click"],["id","print"],["printTitle","Money receipt","printSectionId","print","ngxPrint","",1,"btn","btn-info","btn-sm",3,"useExistingCss"],["aria-hidden","true",1,"fas","fa-print"]],template:function(n,u){1&n&&(e.YNc(0,x,18,2,"div",0),e.TgZ(1,"div",1),e.YNc(2,q,1,0,"div",2),e.qZA(),e.YNc(3,k,9,2,"div",0),e.YNc(4,E,56,7,"div",3),e.YNc(5,D,18,1,"div",4)),2&n&&(e.Q6J("ngIf",u.showTable),e.xp6(2),e.Q6J("ngIf",u.loader),e.xp6(1),e.Q6J("ngIf",u.showTable),e.xp6(1),e.Q6J("ngIf",u.showCashBook),e.xp6(1),e.Q6J("ngIf",u.printPage))},directives:[m.O5,A.L,T.Fj,T.JJ,T.On,m.sg,c.I],pipes:[m.JJ,m.uU],styles:[""]}),i})()}];let I=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[p.Bz.forChild(R)],p.Bz]}),i})(),w=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[m.ez,r.m,T.u5,c.K,I]]}),i})()},1879:(C,v,s)=>{s.d(v,{L:()=>e});var m=s(4762),r=s(639),T=s(5620),c=s(665),p=s(8583);function a(d,g){if(1&d&&(r.TgZ(0,"option",3),r._uU(1),r.qZA()),2&d){const h=g.$implicit;r.Q6J("ngValue",h),r.xp6(1),r.Oqu(h)}}let e=(()=>{class d{constructor(h){this.service=h,this.financialYear="",this.financialYearList=[],this.newItemEvent=new r.vpe,this.loadFinancialYear=()=>(0,m.mG)(this,void 0,void 0,function*(){this.financialYearList=yield this.service.get("/api/getFinYear"),this.financialYear=this.financialYearList[0],this.changeFinancialYear()}),this.loadFinancialYear()}ngOnInit(){}changeFinancialYear(){this.newItemEvent.emit(this.financialYear)}}return d.\u0275fac=function(h){return new(h||d)(r.Y36(T.v))},d.\u0275cmp=r.Xpm({type:d,selectors:[["app-financial-year"]],outputs:{newItemEvent:"newItemEvent"},decls:6,vars:2,consts:[[1,"form-control",3,"ngModel","ngModelChange","change"],["value","","disabled",""],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(h,A){1&h&&(r.TgZ(0,"label"),r._uU(1,"Financial year :"),r.qZA(),r.TgZ(2,"select",0),r.NdJ("ngModelChange",function(q){return A.financialYear=q})("change",function(){return A.changeFinancialYear()}),r.TgZ(3,"option",1),r._uU(4,"--Select--"),r.qZA(),r.YNc(5,a,2,2,"option",2),r.qZA()),2&h&&(r.xp6(2),r.Q6J("ngModel",A.financialYear),r.xp6(3),r.Q6J("ngForOf",A.financialYearList))},directives:[c.EJ,c.JJ,c.On,c.YN,c.Kr,p.sg],styles:[""]}),d})()},4466:(C,v,s)=>{s.d(v,{m:()=>c});var m=s(8583),r=s(665),T=s(639);let c=(()=>{class p{}return p.\u0275fac=function(e){return new(e||p)},p.\u0275mod=T.oAB({type:p}),p.\u0275inj=T.cJS({imports:[[m.ez,r.u5]]}),p})()}}]);