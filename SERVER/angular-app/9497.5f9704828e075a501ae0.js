"use strict";(self.webpackChunkangular_application=self.webpackChunkangular_application||[]).push([[9497],{9497:(x,u,r)=>{r.r(u),r.d(u,{PaymentReceivedFromSourceModule:()=>C});var s=r(665),l=r(8583),Z=r(6901),m=r(4762),e=r(639),_=r(4495),p=r(5620),h=r(9344);function T(n,d){1&n&&e._UZ(0,"div",16)}function A(n,d){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const t=d.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.source_name)}}function v(n,d){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const t=d.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.schem_name)}}function q(n,d){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const t=d.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.comp_name)}}const c=function(){return{standalone:!0}};function f(n,d){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",17),e.TgZ(2,"div",18),e.TgZ(3,"span"),e.TgZ(4,"strong"),e.TgZ(5,"label"),e._uU(6,"ENTER RECEIVED PAYMENT DETAIL"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",19),e.TgZ(8,"form",20),e.TgZ(9,"div",21),e.TgZ(10,"div",22),e.TgZ(11,"label"),e._uU(12,"Source"),e.TgZ(13,"span",23),e._uU(14,"*"),e.qZA(),e._uU(15," :"),e.qZA(),e.TgZ(16,"select",24),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().source=a}),e.TgZ(17,"option",25),e._uU(18,"--select--"),e.qZA(),e.YNc(19,A,2,2,"option",26),e.qZA(),e.qZA(),e.TgZ(20,"div",22),e.TgZ(21,"label"),e._uU(22,"Scheme"),e.TgZ(23,"span",23),e._uU(24,"*"),e.qZA(),e._uU(25," :"),e.qZA(),e.TgZ(26,"select",27),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().scheme=a})("change",function(){return e.CHM(t),e.oxw().loadComponents()}),e.TgZ(27,"option",25),e._uU(28,"--select--"),e.qZA(),e.YNc(29,v,2,2,"option",26),e.qZA(),e.qZA(),e.TgZ(30,"div",22),e.TgZ(31,"label"),e._uU(32,"Component"),e.TgZ(33,"span",23),e._uU(34,"*"),e.qZA(),e._uU(35," :"),e.qZA(),e.TgZ(36,"select",24),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().component=a}),e.TgZ(37,"option",25),e._uU(38,"--select--"),e.qZA(),e.YNc(39,q,2,2,"option",26),e.qZA(),e.qZA(),e.qZA(),e.TgZ(40,"div",21),e.TgZ(41,"div",22),e.TgZ(42,"label"),e._uU(43,"Amount"),e.TgZ(44,"span",23),e._uU(45,"*"),e.qZA(),e._uU(46," :"),e.qZA(),e.TgZ(47,"input",28),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().amount=a}),e.qZA(),e.qZA(),e.TgZ(48,"div",22),e.TgZ(49,"label"),e._uU(50,"Mode"),e.TgZ(51,"span",23),e._uU(52,"*"),e.qZA(),e._uU(53," :"),e.qZA(),e.TgZ(54,"select",29),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().mode=a}),e.TgZ(55,"option",25),e._uU(56,"--select--"),e.qZA(),e.TgZ(57,"option",30),e._uU(58,"Cash"),e.qZA(),e.TgZ(59,"option",31),e._uU(60,"Cheque"),e.qZA(),e.TgZ(61,"option",32),e._uU(62,"DD"),e.qZA(),e.TgZ(63,"option",33),e._uU(64,"Net Banking"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(65,"div",22),e.TgZ(66,"label"),e._uU(67,"Reference no."),e.TgZ(68,"span",23),e._uU(69,"*"),e.qZA(),e._uU(70," :"),e.qZA(),e._uU(71," \xa0\xa0"),e.TgZ(72,"span",23),e._uU(73),e.qZA(),e.TgZ(74,"input",34),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().ref_no=a}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(75,"div",21),e.TgZ(76,"div",22),e.TgZ(77,"label"),e._uU(78,"Payment date"),e.TgZ(79,"span",23),e._uU(80,"*"),e.qZA(),e._uU(81," :"),e.qZA(),e.TgZ(82,"input",35),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().payment_date=a}),e.ALo(83,"date"),e.qZA(),e.qZA(),e.TgZ(84,"div",22),e.TgZ(85,"label"),e._uU(86,"Remark"),e.TgZ(87,"span",23),e._uU(88,"*"),e.qZA(),e._uU(89," :"),e.qZA(),e.TgZ(90,"input",36),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().remark=a}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(91,"div",37),e.TgZ(92,"button",38),e._uU(93,"Receive"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(16),e.Q6J("ngModel",t.source)("ngModelOptions",e.DdM(24,c)),e.xp6(3),e.Q6J("ngForOf",t.sourceList),e.xp6(7),e.Q6J("ngModel",t.scheme)("ngModelOptions",e.DdM(25,c)),e.xp6(3),e.Q6J("ngForOf",t.schemeList),e.xp6(7),e.Q6J("ngModel",t.component)("ngModelOptions",e.DdM(26,c)),e.xp6(3),e.Q6J("ngForOf",t.componentList),e.xp6(8),e.Q6J("ngModel",t.amount)("ngModelOptions",e.DdM(27,c)),e.xp6(7),e.Q6J("ngModel",t.mode)("ngModelOptions",e.DdM(28,c)),e.xp6(19),e.Oqu(t.refInfo),e.xp6(1),e.Q6J("ngModel",t.ref_no)("ngModelOptions",e.DdM(29,c)),e.xp6(8),e.s9C("max",e.xi3(83,21,t.cDate,"y-MM-dd")),e.Q6J("ngModel",t.payment_date)("ngModelOptions",e.DdM(30,c)),e.xp6(8),e.Q6J("ngModel",t.remark)("ngModelOptions",e.DdM(31,c))}}const M=[{path:"",component:(()=>{class n{constructor(t,i,a){this.layoutService=t,this.service=i,this.toastr=a,this.loadingData=!0,this.first_box=!1,this.second_page=!1,this.schemeList=[],this.sourceList=[],this.componentList=[],this.scheme="",this.source="",this.component="",this.mode="",this.refInfo="",this.cDate=new Date,this.loadAllSourceAndSchemas=()=>(0,m.mG)(this,void 0,void 0,function*(){try{let o=this.service.get("/admin/getAllSource");this.schemeList=yield this.service.get("/admin/getAllSchema"),this.sourceList=yield o,this.loadingData=!1,this.first_box=!0}catch(o){console.error(o)}}),this.loadComponents=()=>(0,m.mG)(this,void 0,void 0,function*(){try{this.componentList=yield this.service.get("/admin/getComponentsOfSchema?schemaId="+this.scheme.schem_id)}catch(o){console.error(o)}}),this.addRefNoText=()=>{switch(this.mode){case"dd":this.refInfo="Enter DD number";break;case"cash":this.refInfo="Enter VOUCHER number";break;case"cheque":this.refInfo="Enter CHEQUE number";break;case"net_banking":this.refInfo="Enter Transaction ID"}},this.addPayment=()=>(0,m.mG)(this,void 0,void 0,function*(){let o={amount:this.amount,payment_no:this.ref_no,payment_mode:this.mode,ref_no:this.ref_no,remark:this.remark,source_id:this.source.source_id,payment_date:this.payment_date},U={source_id:this.source.source_id,schem_id:this.scheme.schem_id,comp_id:this.component.comp_id,ref_no:this.ref_no};try{const g={payment_data:o,payment_desc_data:U};yield this.service.post("/admin/addReceivedPayment",g),this.toastr.success("Payment succefully received."),this.loadAllSourceAndSchemas()}catch(g){this.toastr.error("Transaction failed. Please try again."),console.error(g)}}),this.goto2ndPage=()=>{this.first_box=!1,this.second_page=!0},this.goto1stPage=()=>{this.second_page=!1,this.first_box=!0},this.layoutService.setBreadcrumb("Receive Payment from other Sources"),this.loadAllSourceAndSchemas()}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.P),e.Y36(p.v),e.Y36(h._W))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-payment-receive"]],decls:63,vars:13,consts:[[1,"loader"],["class","spinner-border text-info",4,"ngIf"],[4,"ngIf"],[1,"container"],["id","reviewUpdateItemsModal",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body",2,"padding","0"],[1,"table-responsive",2,"text-align","left"],[1,"table","table-hover"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-outline-info"],["type","button","data-dismiss","modal",1,"btn","btn-outline-info",3,"click"],[1,"spinner-border","text-info"],[1,"mybox"],[1,"mybox-header"],[1,"middle"],["name","dealerDetailForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-6","col-xs-12"],[1,"asterisk-mark"],["required","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["value","","disabled",""],[3,"ngValue",4,"ngFor","ngForOf"],["required","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange","change"],["type","number","min","1","placeholder","Enter received amount.","required","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["ng_change","addRefNoText()","required","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["value","cash"],["value","cheque"],["value","dd"],["value","net_banking"],["type","text","placeholder","Enter payment reference no.","required","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["type","date","required","",1,"form-control",3,"ngModel","ngModelOptions","max","ngModelChange"],["type","text","placeholder","Enter your remark.","required","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"rightSubmit"],["data-toggle","modal","data-target","#reviewUpdateItemsModal",1,"btn","btn-info","btn-sm"],[3,"ngValue"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,T,1,0,"div",1),e.qZA(),e.YNc(2,f,94,32,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"div",6),e.TgZ(7,"div",7),e.TgZ(8,"h5",8),e._uU(9,"VERIFY PAYMENT DETAIL"),e.qZA(),e.TgZ(10,"button",9),e._uU(11,"\xd7"),e.qZA(),e.qZA(),e.TgZ(12,"div",10),e.TgZ(13,"div",11),e.TgZ(14,"table",12),e._UZ(15,"thead"),e.TgZ(16,"tbody"),e.TgZ(17,"tr"),e.TgZ(18,"td"),e._uU(19,"Source : "),e.qZA(),e.TgZ(20,"td"),e._uU(21),e.qZA(),e.qZA(),e.TgZ(22,"tr"),e.TgZ(23,"td"),e._uU(24,"Scheme : "),e.qZA(),e.TgZ(25,"td"),e._uU(26),e.qZA(),e.qZA(),e.TgZ(27,"tr"),e.TgZ(28,"td"),e._uU(29,"Component : "),e.qZA(),e.TgZ(30,"td"),e._uU(31),e.qZA(),e.qZA(),e.TgZ(32,"tr"),e.TgZ(33,"td"),e._uU(34,"Amount : (\u20b9)"),e.qZA(),e.TgZ(35,"td"),e._uU(36),e.qZA(),e.qZA(),e.TgZ(37,"tr"),e.TgZ(38,"td"),e._uU(39,"Payment mode : "),e.qZA(),e.TgZ(40,"td"),e._uU(41),e.qZA(),e.qZA(),e.TgZ(42,"tr"),e.TgZ(43,"td"),e._uU(44,"Payment reference no. : "),e.qZA(),e.TgZ(45,"td"),e._uU(46),e.qZA(),e.qZA(),e.TgZ(47,"tr"),e.TgZ(48,"td"),e._uU(49,"Payment date : "),e.qZA(),e.TgZ(50,"td"),e._uU(51),e.ALo(52,"date"),e.qZA(),e.qZA(),e.TgZ(53,"tr"),e.TgZ(54,"td"),e._uU(55,"Remark : "),e.qZA(),e.TgZ(56,"td"),e._uU(57),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(58,"div",13),e.TgZ(59,"button",14),e._uU(60,"Edit"),e.qZA(),e.TgZ(61,"button",15),e.NdJ("click",function(){return i.addPayment()}),e._uU(62,"Receive"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",i.loadingData),e.xp6(1),e.Q6J("ngIf",i.first_box),e.xp6(19),e.Oqu(i.source.source_name),e.xp6(5),e.Oqu(i.scheme.schem_name),e.xp6(5),e.Oqu(i.component.comp_name),e.xp6(5),e.Oqu(i.amount),e.xp6(5),e.Oqu(i.mode),e.xp6(5),e.Oqu(i.ref_no),e.xp6(5),e.Oqu(e.xi3(52,10,i.payment_date,"dd-MM-yyyy")),e.xp6(6),e.Oqu(i.remark))},directives:[l.O5,s._Y,s.JL,s.F,s.EJ,s.Q7,s.JJ,s.On,s.YN,s.Kr,l.sg,s.qQ,s.wV,s.Fj],pipes:[l.uU],styles:[""]}),n})()}];let y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[Z.Bz.forChild(M)],Z.Bz]}),n})(),C=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[l.ez,y,s.u5]]}),n})()}}]);